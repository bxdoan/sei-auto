(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1056:function(e,t){},122:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(612),t),n(s(897),t),n(s(1714),t),n(s(1715),t),n(s(1716),t)},1703:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1704),t),n(s(610),t),n(s(1705),t),n(s(1708),t),n(s(1709),t),n(s(1711),t),n(s(1717),t),n(s(442),t)},1704:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1705:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmosAccountImpl=t.defaultCosmosMsgOpts=t.CosmosAccount=void 0;const i=s(610),o=s(21),a=s(20),c=s(147),l=s(766),u=s(1706),h=s(753),d=s(763),p=s(756),f=s(761),y=s(759),g=s(760),v=s(9),b=s(611),m=n(s(89)),_=n(s(165)),O=s(2),w=s(442),I=s(1707),S=s(758);t.CosmosAccount={use:e=>(s,r,n)=>{const i=e.msgOptsCreator?e.msgOptsCreator(n):void 0;return{cosmos:new C(s,r,n,e.queriesStore,_.default(t.defaultCosmosMsgOpts,i||{}),e)}}},t.defaultCosmosMsgOpts={send:{native:{type:"cosmos-sdk/MsgSend",gas:8e4}},ibcTransfer:{type:"cosmos-sdk/MsgTransfer",gas:45e4},delegate:{type:"cosmos-sdk/MsgDelegate",gas:25e4},undelegate:{type:"cosmos-sdk/MsgUndelegate",gas:25e4},redelegate:{type:"cosmos-sdk/MsgBeginRedelegate",gas:25e4},withdrawRewards:{type:"cosmos-sdk/MsgWithdrawDelegationReward",gas:14e4},govVote:{type:"cosmos-sdk/MsgVote",gas:25e4}};class C{constructor(e,t,s,r,n,i){this.base=e,this.chainGetter=t,this.chainId=s,this.queriesStore=r,this._msgOpts=n,this.txOpts=i,this.broadcastMode="sync",this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(e,t,s){if("native"===new o.DenomHelper(t.coinMinimalDenom).type){const r=(()=>{let s=new a.Dec(e);return s=s.mul(a.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();v.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr);const n={type:this.msgOpts.send.native.type,value:{from_address:this.base.bech32Address,to_address:s,amount:[{denom:t.coinMinimalDenom,amount:r}]}};return this.makeTx("send",{aminoMsgs:[n],protoMsgs:[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:h.MsgSend.encode({fromAddress:n.value.from_address,toAddress:n.value.to_address,amount:n.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"from_address",type:"string"},{name:"to_address",type:"string"},{name:"amount",type:"TypeAmount[]"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})}}processSendToken(e,t,s,n,i,c,l){var u,d;return r(this,void 0,void 0,(function*(){switch(new o.DenomHelper(t.coinMinimalDenom).type){case"native":const r=(()=>{let s=new a.Dec(e);return s=s.mul(a.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})(),o={type:this.msgOpts.send.native.type,value:{from_address:this.base.bech32Address,to_address:s,amount:[{denom:t.coinMinimalDenom,amount:r}]}};return yield this.sendMsgs("send",{aminoMsgs:[o],protoMsgs:[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:h.MsgSend.encode({fromAddress:o.value.from_address,toAddress:o.value.to_address,amount:o.value.amount}).finish()}]},n,{amount:null!==(u=i.amount)&&void 0!==u?u:[],gas:null!==(d=i.gas)&&void 0!==d?d:this.msgOpts.send.native.gas.toString()},c,w.txEventsWithPreOnFulfill(l,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})),!0}return!1}))}sendMsgs(e,t,s="",n,i,o){var a,c;return r(this,void 0,void 0,(function*(){let r,l,u,h;this.base.setTxTypeInProgress(e);try{"function"==typeof t&&(t=yield t());const e=yield this.broadcastMsgs(t,n,s,i,this.broadcastMode);r=e.txHash,l=e.signDoc}catch(e){throw this.base.setTxTypeInProgress(""),(null===(a=this.txOpts.preTxEvents)||void 0===a?void 0:a.onBroadcastFailed)&&this.txOpts.preTxEvents.onBroadcastFailed(this.chainId,e),o&&"onBroadcastFailed"in o&&o.onBroadcastFailed&&o.onBroadcastFailed(e),e}o&&("function"==typeof o?h=o:(u=o.onBroadcasted,h=o.onFulfill)),(null===(c=this.txOpts.preTxEvents)||void 0===c?void 0:c.onBroadcasted)&&this.txOpts.preTxEvents.onBroadcasted(this.chainId,r),u&&u(r);const d=new v.TendermintTxTracer(this.chainGetter.getChain(this.chainId).rpc,"/websocket",{wsObject:this.txOpts.wsObject});d.traceTx(r).then(e=>{var t;d.close(),this.base.setTxTypeInProgress("");for(const e of l.fee.amount){const t=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(t=>t.currency.coinMinimalDenom===e.denom);t&&t.fetch()}e&&!e.hash&&(e.hash=O.Buffer.from(r).toString("hex")),(null===(t=this.txOpts.preTxEvents)||void 0===t?void 0:t.onFulfill)&&this.txOpts.preTxEvents.onFulfill(this.chainId,e),h&&h(e)})}))}broadcastMsgs(e,t,s="",n,a="async"){var h;return r(this,void 0,void 0,(function*(){if(this.base.walletStatus!==i.WalletStatus.Loaded)throw new Error("Wallet is not loaded: "+this.base.walletStatus);const d=e.aminoMsgs,p=e.protoMsgs;if(0===d.length||0===p.length)throw new Error("There is no msg to send");if(d.length!==p.length)throw new Error("The length of aminoMsgs and protoMsgs are different");const f=yield v.BaseAccount.fetchFromRest(this.instance,this.base.bech32Address,!0),y=!0===(null===(h=this.chainGetter.getChain(this.chainId).features)||void 0===h?void 0:h.includes("eth-key-sign")),g=y&&(this.base.isNanoLedger||this.base.isKeystone);if(g&&!e.rlpTypes)throw new Error("RLP types information is needed for signing tx for ethermint chain with ledger");const b=yield this.base.getKeplr(),m={chain_id:this.chainId,account_number:f.getAccountNumber().toString(),sequence:f.getSequence().toString(),fee:t,msgs:d,memo:o.escapeHTML(s)},_=this.chainId.startsWith("injective");g&&(_?m.timeout_height=Number.MAX_SAFE_INTEGER.toString():m.fee=Object.assign(Object.assign({},m.fee),{feePayer:this.base.bech32Address}));const S=o.sortObjectByKey(m),C=yield(()=>r(this,void 0,void 0,(function*(){return g?yield b.experimentalSignEIP712CosmosTx_v0(this.chainId,this.base.bech32Address,w.getEip712TypedDataBasedOnChainId(this.chainId,e),S,n):yield b.signAmino(this.chainId,this.base.bech32Address,S,n)})))(),P=c.TxRaw.encode({bodyBytes:c.TxBody.encode(c.TxBody.fromPartial({messages:p,timeoutHeight:C.signed.timeout_height,memo:C.signed.memo,extensionOptions:g?[{typeUrl:_?"/injective.types.v1beta1.ExtensionOptionsWeb3Tx":"/ethermint.types.v1.ExtensionOptionsWeb3Tx",value:I.ExtensionOptionsWeb3Tx.encode(I.ExtensionOptionsWeb3Tx.fromPartial({typedDataChainId:v.EthermintChainIdHelper.parse(this.chainId).ethChainId.toString(),feePayer:_?void 0:C.signed.fee.feePayer,feePayerSig:_?void 0:O.Buffer.from(C.signature.signature,"base64")})).finish()}]:void 0})).finish(),authInfoBytes:c.AuthInfo.encode({signerInfos:[{publicKey:{typeUrl:y?_?"/injective.crypto.v1beta1.ethsecp256k1.PubKey":"/ethermint.crypto.v1.ethsecp256k1.PubKey":"/cosmos.crypto.secp256k1.PubKey",value:u.PubKey.encode({key:O.Buffer.from(C.signature.pub_key.value,"base64")}).finish()},modeInfo:{single:{mode:l.SignMode.SIGN_MODE_LEGACY_AMINO_JSON},multi:void 0},sequence:C.signed.sequence}],fee:c.Fee.fromPartial({amount:C.signed.fee.amount,gasLimit:C.signed.fee.gas,payer:g&&!_?C.signed.fee.feePayer:void 0})}).finish(),signatures:!g||_?[O.Buffer.from(C.signature.signature,"base64")]:[new Uint8Array(0)]}).finish();return{txHash:yield b.sendTx(this.chainId,P,a),signDoc:C.signed}}))}simulateTx(e,t,s=""){return r(this,void 0,void 0,(function*(){const r=yield v.BaseAccount.fetchFromRest(this.instance,this.base.bech32Address,!0),n=c.TxRaw.encode({bodyBytes:c.TxBody.encode(c.TxBody.fromPartial({messages:e,memo:s})).finish(),authInfoBytes:c.AuthInfo.encode({signerInfos:[c.SignerInfo.fromPartial({modeInfo:{single:{mode:l.SignMode.SIGN_MODE_LEGACY_AMINO_JSON},multi:void 0},sequence:r.getSequence().toString()})],fee:c.Fee.fromPartial({amount:t.amount.map(e=>({amount:e.amount,denom:e.denom}))})}).finish(),signatures:[new Uint8Array(64)]}).finish(),i=yield this.instance.post("/cosmos/tx/v1beta1/simulate",{tx_bytes:O.Buffer.from(n).toString("base64")}),o=parseInt(i.data.gas_info.gas_used);if(Number.isNaN(o))throw new Error("Invalid integer gas: "+i.data.gas_info.gas_used);return{gasUsed:o}}))}makeTx(e,t,s){const n=(e={},s="")=>r(this,void 0,void 0,(function*(){var r;return"function"==typeof t&&(t=yield t()),this.simulateTx(t.protoMsgs,{amount:null!==(r=e.amount)&&void 0!==r?r:[]},s)})),i=(n,i="",o,c)=>r(this,void 0,void 0,(function*(){if(n.gas<0)throw new Error("Gas is zero or negative");const r={gas:n.gas.toString(),amount:n.gasPrice?[{denom:n.gasPrice.denom,amount:n.gasPrice.amount.mul(new a.Dec(n.gas)).truncate().toString()}]:[]};return this.sendMsgs(e,t,i,r,o,w.txEventsWithPreOnFulfill(c,s))}));return{msgs:()=>r(this,void 0,void 0,(function*(){return"function"==typeof t&&(t=yield t()),t})),simulate:n,simulateAndSend:(t,s="",o,a)=>r(this,void 0,void 0,(function*(){this.base.setTxTypeInProgress(e);try{const{gasUsed:e}=yield n({},s);if(e<0)throw new Error("Gas estimated is zero or negative");const r=Math.floor(t.gasAdjustment*e);return i({gas:r,gasPrice:t.gasPrice},s,o,a)}catch(e){throw this.base.setTxTypeInProgress(""),e}})),send:(n,i="",o,a)=>r(this,void 0,void 0,(function*(){return this.sendMsgs(e,t,i,n,o,w.txEventsWithPreOnFulfill(a,s))})),sendWithGasPrice:i}}get instance(){const e=this.chainGetter.getChain(this.chainId);return m.default.create(Object.assign({baseURL:e.rest},e.restConfig))}makeIBCTransferTx(e,t,s,n){if("native"!==new o.DenomHelper(s.coinMinimalDenom).type)throw new Error("Only native token can be sent via IBC");const i=(()=>{let e=new a.Dec(t);return e=e.mul(a.DecUtils.getPrecisionDec(s.coinDecimals)),e.truncate().toString()})(),c=this.queriesStore.get(e.counterpartyChainId).cosmos.queryRPCStatus;return this.makeTx("ibcTransfer",()=>r(this,void 0,void 0,(function*(){var t;if(yield c.waitFreshResponse(),!c.network)throw new Error("Failed to fetch the network chain id of "+e.counterpartyChainId);if(v.ChainIdHelper.parse(c.network).identifier!==v.ChainIdHelper.parse(e.counterpartyChainId).identifier)throw new Error(`Fetched the network chain id is different with counterparty chain id (${c.network}, ${e.counterpartyChainId})`);if(!c.latestBlockHeight||c.latestBlockHeight.equals(new a.Int("0")))throw new Error("Failed to fetch the latest block of "+e.counterpartyChainId);const r=!0===(null===(t=this.chainGetter.getChain(this.chainId).features)||void 0===t?void 0:t.includes("eth-key-sign"))&&this.base.isNanoLedger?"18446744073709551615":"0",o={type:this.msgOpts.ibcTransfer.type,value:{source_port:e.portId,source_channel:e.channelId,token:{denom:s.coinMinimalDenom,amount:i},sender:this.base.bech32Address,receiver:n,timeout_height:{revision_number:v.ChainIdHelper.parse(c.network).version.toString(),revision_height:c.latestBlockHeight.add(new a.Int("150")).toString()},timeout_timestamp:r}};return"0"===o.value.timeout_height.revision_number&&delete o.value.timeout_height.revision_number,"0"===o.value.timeout_timestamp&&delete o.value.timeout_timestamp,{aminoMsgs:[o],protoMsgs:[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:d.MsgTransfer.encode(d.MsgTransfer.fromPartial({sourcePort:o.value.source_port,sourceChannel:o.value.source_channel,token:o.value.token,sender:o.value.sender,receiver:o.value.receiver,timeoutHeight:{revisionNumber:o.value.timeout_height.revision_number?o.value.timeout_height.revision_number:"0",revisionHeight:o.value.timeout_height.revision_height},timeoutTimestamp:o.value.timeout_timestamp})).finish()}],rlpTypes:{MsgValue:[{name:"source_port",type:"string"},{name:"source_channel",type:"string"},{name:"token",type:"TypeToken"},{name:"sender",type:"string"},{name:"receiver",type:"string"},{name:"timeout_height",type:"TypeTimeoutHeight"},{name:"timeout_timestamp",type:"uint64"}],TypeToken:[{name:"denom",type:"string"},{name:"amount",type:"string"}],TypeTimeoutHeight:[{name:"revision_number",type:"uint64"},{name:"revision_height",type:"uint64"}]}}})),e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===s.coinMinimalDenom);e&&e.fetch()}})}sendIBCTransferMsg(e,t,s,n,i="",c={},l,u){var h,p;return r(this,void 0,void 0,(function*(){if("native"!==new o.DenomHelper(s.coinMinimalDenom).type)throw new Error("Only native token can be sent via IBC");const f=(()=>{let e=new a.Dec(t);return e=e.mul(a.DecUtils.getPrecisionDec(s.coinDecimals)),e.truncate().toString()})(),y=this.queriesStore.get(e.counterpartyChainId).cosmos.queryRPCStatus;yield this.sendMsgs("ibcTransfer",()=>r(this,void 0,void 0,(function*(){if(yield y.waitFreshResponse(),!y.network)throw new Error("Failed to fetch the network chain id of "+e.counterpartyChainId);if(v.ChainIdHelper.parse(y.network).identifier!==v.ChainIdHelper.parse(e.counterpartyChainId).identifier)throw new Error(`Fetched the network chain id is different with counterparty chain id (${y.network}, ${e.counterpartyChainId})`);if(!y.latestBlockHeight||y.latestBlockHeight.equals(new a.Int("0")))throw new Error("Failed to fetch the latest block of "+e.counterpartyChainId);const t={type:this.msgOpts.ibcTransfer.type,value:{source_port:e.portId,source_channel:e.channelId,token:{denom:s.coinMinimalDenom,amount:f},sender:this.base.bech32Address,receiver:n,timeout_height:{revision_number:v.ChainIdHelper.parse(y.network).version.toString(),revision_height:y.latestBlockHeight.add(new a.Int("150")).toString()}}};return"0"===t.value.timeout_height.revision_number&&delete t.value.timeout_height.revision_number,{aminoMsgs:[t],protoMsgs:[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:d.MsgTransfer.encode(d.MsgTransfer.fromPartial({sourcePort:t.value.source_port,sourceChannel:t.value.source_channel,token:t.value.token,sender:t.value.sender,receiver:t.value.receiver,timeoutHeight:{revisionNumber:t.value.timeout_height.revision_number?t.value.timeout_height.revision_number:"0",revisionHeight:t.value.timeout_height.revision_height}})).finish()}]}})),i,{amount:null!==(h=c.amount)&&void 0!==h?h:[],gas:null!==(p=c.gas)&&void 0!==p?p:this.msgOpts.ibcTransfer.gas.toString()},l,w.txEventsWithPreOnFulfill(u,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===s.coinMinimalDenom);e&&e.fetch()}}))}))}makeRevokeMsg(e,t){v.Bech32Address.validate(e,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr);const s={granter:this.base.bech32Address,grantee:e,msg_type_url:t};return this.makeTx("revoke",{aminoMsgs:[s],protoMsgs:[{typeUrl:"/cosmos.authz.v1beta1.MsgRevoke",value:S.MsgRevoke.encode({granter:this.base.bech32Address,grantee:e,msgTypeUrl:t}).finish()}]},e=>{null!=e.code&&0!==e.code||this.queries.cosmos.queryAuthZGranter.getGranter(this.base.bech32Address).fetch()})}makeDelegateTx(e,t){v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const s=this.chainGetter.getChain(this.chainId).stakeCurrency;let r=new a.Dec(e);r=r.mulTruncate(a.DecUtils.getPrecisionDec(s.coinDecimals));const n={type:this.msgOpts.delegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:s.coinMinimalDenom,amount:r.truncate().toString()}}};return this.makeTx("delegate",{aminoMsgs:[n],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:p.MsgDelegate.encode({delegatorAddress:n.value.delegator_address,validatorAddress:n.value.validator_address,amount:n.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendDelegateMsg(e,t,s="",n={},i,o){var c,l;return r(this,void 0,void 0,(function*(){const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let u=new a.Dec(e);u=u.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const h={type:this.msgOpts.delegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:r.coinMinimalDenom,amount:u.truncate().toString()}}};yield this.sendMsgs("delegate",{aminoMsgs:[h],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:p.MsgDelegate.encode({delegatorAddress:h.value.delegator_address,validatorAddress:h.value.validator_address,amount:h.value.amount}).finish()}]},s,{amount:null!==(c=n.amount)&&void 0!==c?c:[],gas:null!==(l=n.gas)&&void 0!==l?l:this.msgOpts.delegate.gas.toString()},i,w.txEventsWithPreOnFulfill(o,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))}))}makeUndelegateTx(e,t){v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const s=this.chainGetter.getChain(this.chainId).stakeCurrency;let r=new a.Dec(e);r=r.mulTruncate(a.DecUtils.getPrecisionDec(s.coinDecimals));const n={type:this.msgOpts.undelegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:s.coinMinimalDenom,amount:r.truncate().toString()}}};return this.makeTx("undelegate",{aminoMsgs:[n],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:p.MsgUndelegate.encode({delegatorAddress:n.value.delegator_address,validatorAddress:n.value.validator_address,amount:n.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryUnbondingDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendUndelegateMsg(e,t,s="",n={},i,o){var c,l;return r(this,void 0,void 0,(function*(){const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let u=new a.Dec(e);u=u.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const h={type:this.msgOpts.undelegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:r.coinMinimalDenom,amount:u.truncate().toString()}}};yield this.sendMsgs("undelegate",{aminoMsgs:[h],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:p.MsgUndelegate.encode({delegatorAddress:h.value.delegator_address,validatorAddress:h.value.validator_address,amount:h.value.amount}).finish()}]},s,{amount:null!==(c=n.amount)&&void 0!==c?c:[],gas:null!==(l=n.gas)&&void 0!==l?l:this.msgOpts.undelegate.gas.toString()},i,w.txEventsWithPreOnFulfill(o,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryUnbondingDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))}))}makeBeginRedelegateTx(e,t,s){v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr),v.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let n=new a.Dec(e);n=n.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const i={type:this.msgOpts.redelegate.type,value:{delegator_address:this.base.bech32Address,validator_src_address:t,validator_dst_address:s,amount:{denom:r.coinMinimalDenom,amount:n.truncate().toString()}}};return this.makeTx("redelegate",{aminoMsgs:[i],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgBeginRedelegate",value:p.MsgBeginRedelegate.encode({delegatorAddress:i.value.delegator_address,validatorSrcAddress:i.value.validator_src_address,validatorDstAddress:i.value.validator_dst_address,amount:i.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_src_address",type:"string"},{name:"validator_dst_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendBeginRedelegateMsg(e,t,s,n="",i={},o,c){var l,u;return r(this,void 0,void 0,(function*(){const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let h=new a.Dec(e);h=h.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const d={type:this.msgOpts.redelegate.type,value:{delegator_address:this.base.bech32Address,validator_src_address:t,validator_dst_address:s,amount:{denom:r.coinMinimalDenom,amount:h.truncate().toString()}}};yield this.sendMsgs("redelegate",{aminoMsgs:[d],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgBeginRedelegate",value:p.MsgBeginRedelegate.encode({delegatorAddress:d.value.delegator_address,validatorSrcAddress:d.value.validator_src_address,validatorDstAddress:d.value.validator_dst_address,amount:d.value.amount}).finish()}]},n,{amount:null!==(l=i.amount)&&void 0!==l?l:[],gas:null!==(u=i.gas)&&void 0!==u?u:this.msgOpts.redelegate.gas.toString()},o,w.txEventsWithPreOnFulfill(c,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))}))}makeWithdrawDelegationRewardTx(e){for(const t of e)v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const t=e.map(e=>({type:this.msgOpts.withdrawRewards.type,value:{delegator_address:this.base.bech32Address,validator_address:e}}));return this.makeTx("withdrawRewards",{aminoMsgs:t,protoMsgs:t.map(e=>({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:f.MsgWithdrawDelegatorReward.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address}).finish()})),rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"}]}},e=>{null!=e.code&&0!==e.code||this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch()})}sendWithdrawDelegationRewardMsgs(e,t="",s={},n,i){var o,a;return r(this,void 0,void 0,(function*(){const r=e.map(e=>({type:this.msgOpts.withdrawRewards.type,value:{delegator_address:this.base.bech32Address,validator_address:e}}));yield this.sendMsgs("withdrawRewards",{aminoMsgs:r,protoMsgs:r.map(e=>({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:f.MsgWithdrawDelegatorReward.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address}).finish()}))},t,{amount:null!==(o=s.amount)&&void 0!==o?o:[],gas:null!==(a=s.gas)&&void 0!==a?a:(this.msgOpts.withdrawRewards.gas*e.length).toString()},n,w.txEventsWithPreOnFulfill(i,e=>{null!=e.code&&0!==e.code||this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch()}))}))}makeGovVoteTx(e,t){const s=(()=>{switch(t){case"Yes":return 1;case"Abstain":return 2;case"No":return 3;case"NoWithVeto":return 4}})(),r={type:this.msgOpts.govVote.type,value:{option:s,proposal_id:e,voter:this.base.bech32Address}};return this.makeTx("govVote",{aminoMsgs:[r],protoMsgs:[{typeUrl:"/cosmos.gov.v1beta1.MsgVote",value:y.MsgVote.encode({proposalId:r.value.proposal_id,voter:r.value.voter,option:(()=>{switch(r.value.option){case 1:return g.VoteOption.VOTE_OPTION_YES;case 2:return g.VoteOption.VOTE_OPTION_ABSTAIN;case 3:return g.VoteOption.VOTE_OPTION_NO;case 4:return g.VoteOption.VOTE_OPTION_NO_WITH_VETO;default:return g.VoteOption.VOTE_OPTION_UNSPECIFIED}})()}).finish()}],rlpTypes:{MsgValue:[{name:"proposal_id",type:"uint64"},{name:"voter",type:"string"},{name:"option",type:"int32"}]}},t=>{if(null==t.code||0===t.code){const t=this.queries.cosmos.queryGovernance.proposals.find(t=>t.id===e);t&&t.fetch();this.queries.cosmos.queryProposalVote.getVote(e,this.base.bech32Address).fetch()}})}sendGovVoteMsg(e,t,s="",n={},i,o){var a,c;return r(this,void 0,void 0,(function*(){const r=(()=>{switch(t){case"Yes":return 1;case"Abstain":return 2;case"No":return 3;case"NoWithVeto":return 4}})(),l={type:this.msgOpts.govVote.type,value:{option:r,proposal_id:e,voter:this.base.bech32Address}};yield this.sendMsgs("govVote",{aminoMsgs:[l],protoMsgs:[{typeUrl:"/cosmos.gov.v1beta1.MsgVote",value:y.MsgVote.encode({proposalId:l.value.proposal_id,voter:l.value.voter,option:(()=>{switch(l.value.option){case 1:return g.VoteOption.VOTE_OPTION_YES;case 2:return g.VoteOption.VOTE_OPTION_ABSTAIN;case 3:return g.VoteOption.VOTE_OPTION_NO;case 4:return g.VoteOption.VOTE_OPTION_NO_WITH_VETO;default:return g.VoteOption.VOTE_OPTION_UNSPECIFIED}})()}).finish()}]},s,{amount:null!==(a=n.amount)&&void 0!==a?a:[],gas:null!==(c=n.gas)&&void 0!==c?c:this.msgOpts.govVote.gas.toString()},i,w.txEventsWithPreOnFulfill(o,t=>{if(null==t.code||0===t.code){const t=this.queries.cosmos.queryGovernance.proposals.find(t=>t.id===e);t&&t.fetch();this.queries.cosmos.queryProposalVote.getVote(e,this.base.bech32Address).fetch()}}))}))}get queries(){return this.queriesStore.get(this.chainId)}}t.CosmosAccountImpl=C},1708:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getKeplrFromWindow=void 0;t.getKeplrFromWindow=()=>r(void 0,void 0,void 0,(function*(){if("undefined"!=typeof window)return window.keplr||"complete"===document.readyState?window.keplr:new Promise(e=>{const t=s=>{s.target&&"complete"===s.target.readyState&&(e(window.keplr),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)})}))},1709:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretAccountImpl=t.defaultSecretMsgOpts=t.SecretAccount=void 0;const i=s(2),o=s(21),a=s(1710),c=s(9),l=s(20),u=n(s(165)),h=s(442);t.SecretAccount={use:e=>(s,r,n)=>{const i=e.msgOptsCreator?e.msgOptsCreator(n):void 0;return{secret:new d(s,r,n,e.queriesStore,u.default(t.defaultSecretMsgOpts,i||{}))}}},t.defaultSecretMsgOpts={send:{secret20:{gas:25e4}},createSecret20ViewingKey:{gas:15e4},executeSecretWasm:{type:"wasm/MsgExecuteContract"}};class d{constructor(e,t,s,r,n){this.base=e,this.chainGetter=t,this.chainId=s,this.queriesStore=r,this._msgOpts=n,this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(e,t,s){if("secret20"===new o.DenomHelper(t.coinMinimalDenom).type){const r=(()=>{let s=new l.Dec(e);return s=s.mul(l.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"secret20"!==t.type)throw new Error("Currency is not secret20");return c.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.makeExecuteSecretContractTx("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})}}processSendToken(e,t,s,n,i,a,c){var u,d;return r(this,void 0,void 0,(function*(){switch(new o.DenomHelper(t.coinMinimalDenom).type){case"secret20":const r=(()=>{let s=new l.Dec(e);return s=s.mul(l.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"secret20"!==t.type)throw new Error("Currency is not secret20");return yield this.sendExecuteSecretContractMsg("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],n,{amount:null!==(u=i.amount)&&void 0!==u?u:[],gas:null!==(d=i.gas)&&void 0!==d?d:this.msgOpts.send.secret20.gas.toString()},a,h.txEventsWithPreOnFulfill(c,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})),!0}return!1}))}createSecret20ViewingKey(e,t="",s={},n,o){var a,c;return r(this,void 0,void 0,(function*(){const r=new Uint8Array(32);crypto.getRandomValues(r);const l=i.Buffer.from(r).toString("hex");yield this.makeExecuteSecretContractTx("createSecret20ViewingKey",e,{set_viewing_key:{key:l}},[]).send({amount:null!==(a=s.amount)&&void 0!==a?a:[],gas:null!==(c=s.gas)&&void 0!==c?c:this.msgOpts.createSecret20ViewingKey.gas.toString()},t,n,e=>{let t="";null!=e.code&&0!==e.code||(t=l),o&&o(e,t)})}))}makeExecuteSecretContractTx(e="executeSecretWasm",t,s,n,o){let l;return c.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.base.cosmos.makeTx(e,()=>r(this,void 0,void 0,(function*(){l=yield this.encryptSecretContractMsg(t,s);const e={type:this.msgOpts.executeSecretWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:i.Buffer.from(l).toString("base64"),sent_funds:n}};return{aminoMsgs:[e],protoMsgs:[{typeUrl:"/secret.compute.v1beta1.MsgExecuteContract",value:a.MsgExecuteContract.encode(a.MsgExecuteContract.fromPartial({sender:c.Bech32Address.fromBech32(e.value.sender).address,contract:c.Bech32Address.fromBech32(e.value.contract).address,msg:i.Buffer.from(e.value.msg,"base64"),sentFunds:e.value.sent_funds})).finish()}]}})),o)}sendExecuteSecretContractMsg(e="executeSecretWasm",t,s,n,o="",l,u,h){var d;return r(this,void 0,void 0,(function*(){let p;return yield this.base.cosmos.sendMsgs(e,()=>r(this,void 0,void 0,(function*(){p=yield this.encryptSecretContractMsg(t,s);const e={type:this.msgOpts.executeSecretWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:i.Buffer.from(p).toString("base64"),sent_funds:n}};return{aminoMsgs:[e],protoMsgs:[{typeUrl:"/secret.compute.v1beta1.MsgExecuteContract",value:a.MsgExecuteContract.encode(a.MsgExecuteContract.fromPartial({sender:c.Bech32Address.fromBech32(e.value.sender).address,contract:c.Bech32Address.fromBech32(e.value.contract).address,msg:i.Buffer.from(e.value.msg,"base64"),sentFunds:e.value.sent_funds})).finish()}]}})),o,{amount:null!==(d=l.amount)&&void 0!==d?d:[],gas:l.gas},u,h),p}))}encryptSecretContractMsg(e,t){return r(this,void 0,void 0,(function*(){const s=yield this.queries.secret.querySecretContractCodeHash.getQueryContract(e).waitResponse();if(!s)throw new Error(`Can't get the code hash of the contract (${e})`);const r=s.data.code_hash,n=yield this.base.getKeplr();if(!n)throw new Error("Can't get the Keplr API");const i=n.getEnigmaUtils(this.chainId);return yield i.encrypt(r,t)}))}get queries(){return this.queriesStore.get(this.chainId)}}t.SecretAccountImpl=d},1711:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountStore=void 0;const r=s(122),n=s(610);class i extends r.HasMapStore{constructor(e,t,s,...i){super(i=>{const o=new n.AccountSetBaseSuper(e,t,i,s(i));return r.mergeStores(o,[this.chainGetter,i],...this.accountSetCreators)}),this.eventListener=e,this.chainGetter=t,this.storeOptsCreator=s,this.accountSetCreators=i}getAccount(e){return this.get(e)}hasAccount(e){return this.has(e)}}t.AccountStore=i},1712:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryMap=t.ObservableQuery=t.ObservableQueryBase=t.DeferInitialQueryController=t.defaultOptions=void 0;const o=s(5),a=i(s(89)),c=s(21),l=s(612),u=i(s(898));t.defaultOptions={cacheMaxAge:0,fetchingInterval:0};class h extends Error{constructor(e){super(e),Object.setPrototypeOf(this,h.prototype)}}class d{constructor(){this.rejectors=[]}get hasCancelable(){return this.rejectors.length>0}cancel(e){for(;this.rejectors.length>0;){const t=this.rejectors.shift();t&&(t.reject(new h(e)),t.onCancel&&t.onCancel())}}callOrCanceledWithPromise(e,t){return new Promise((s,r)=>{this.rejectors.push({reject:r,onCancel:t}),e.then(e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),s(e)},e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),r(e)})})}callOrCanceled(e,t){return new Promise((s,r)=>{this.rejectors.push({reject:r,onCancel:t}),Promise.resolve().then(()=>{this.rejectors.find(e=>e.reject===r)&&e().then(e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),s(e)},e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),r(e)})})})}}class p{constructor(){this._isReady=!1,o.makeObservable(this)}ready(){this._isReady=!0}wait(){return this.isReady?Promise.resolve():new Promise(e=>{const t=o.autorun(()=>{this.isReady&&(e(),t&&t())})})}get isReady(){return this._isReady}}r([o.observable],p.prototype,"_isReady",void 0),r([o.action],p.prototype,"ready",null),t.DeferInitialQueryController=p;class f{constructor(e,s){this._response=void 0,this._isFetching=!1,this._error=void 0,this._isStarted=!1,this._pendingOnStart=!1,this.observedCount=0,this.intervalId=void 0,this.becomeObserved=()=>{0===this.observedCount&&this.start(),this.observedCount++},this.becomeUnobserved=()=>{this.observedCount--,0===this.observedCount&&this.stop()},this.intervalFetch=()=>{this.isFetching||this.fetch()},this.options=Object.assign(Object.assign({},t.defaultOptions),s),this._instance=e,this.queryCanceler=new d,this.onStartCanceler=new d,this.queryControllerConceler=new d,o.makeObservable(this),o.onBecomeObserved(this,"_response",this.becomeObserved),o.onBecomeObserved(this,"_isFetching",this.becomeObserved),o.onBecomeObserved(this,"_error",this.becomeObserved),o.onBecomeUnobserved(this,"_response",this.becomeUnobserved),o.onBecomeUnobserved(this,"_isFetching",this.becomeUnobserved),o.onBecomeUnobserved(this,"_error",this.becomeUnobserved)}static guessResponseTruncated(e,t){return e&&"string"==typeof e["content-type"]&&e["content-type"].startsWith("application/json")&&t.startsWith("{")}get isObserved(){return this.observedCount>0}start(){if(!this._isStarted){this._isStarted=!0;const e=this.onStart();e?this.handleAsyncOnStart(e):this.postStart()}}*handleAsyncOnStart(e){this._pendingOnStart=!0,this._isFetching=!0;try{yield this.onStartCanceler.callOrCanceledWithPromise(e),this._isStarted&&(this._pendingOnStart=!1,this.postStart())}catch(e){if(e instanceof h)return;throw e}}stop(){this._isStarted&&(this.onStartCanceler.hasCancelable&&this.onStartCanceler.cancel(),this.isFetching&&this.queryCanceler.hasCancelable&&this.cancel(),this._pendingOnStart=!1,this._isFetching=!1,null!=this.intervalId&&clearInterval(this.intervalId),this.intervalId=void 0,this.onStop(),this._isStarted=!1)}get isStarted(){return this._isStarted}postStart(){this.fetch(),this.options.fetchingInterval>0&&(this.intervalId=setInterval(this.intervalFetch,this.options.fetchingInterval))}onStart(){}onStop(){}canFetch(){return!0}get isFetching(){return this._isFetching}get instance(){return this._instance}*fetch(){var e,t,s;if(!this.isStarted||this._pendingOnStart)return;if(f.experimentalDeferInitialQueryController&&!f.experimentalDeferInitialQueryController.isReady){this._isFetching=!0,this.queryControllerConceler.hasCancelable&&this.queryControllerConceler.cancel();try{yield this.queryControllerConceler.callOrCanceled(()=>{var e,t;return null!==(t=null===(e=f.experimentalDeferInitialQueryController)||void 0===e?void 0:e.wait())&&void 0!==t?t:Promise.resolve()})}catch(e){if(e instanceof h)return;throw e}if(!this.isStarted)return}if(!this.canFetch())return;if(this.isFetching&&this.queryCanceler.hasCancelable&&this.cancel("__fetching__proceed__next__"),this._response){if(this.options.cacheMaxAge>0&&this._response.timestamp>Date.now()-this.options.cacheMaxAge)return void(this._isFetching=!1);this._isFetching=!0,this.setResponse(Object.assign(Object.assign({},this._response),{staled:!0}))}else{this._isFetching=!0;const e=this.loadStaledResponse(),t=e=>!(!e||this._response||!(this.options.cacheMaxAge<=0||e.timestamp>Date.now()-this.options.cacheMaxAge))&&(this.setResponse(e),!0);if(this.options.cacheMaxAge<=0)e.then(e=>{t(e)});else{const s=yield*c.toGenerator(e);if(t(s))return void(this._isFetching=!1)}}const r=new AbortController;let n=!1,i=!1;try{let e=!1,{response:t,headers:s}=yield*c.toGenerator(this.queryCanceler.callOrCanceled(()=>(e=!0,this.fetchResponse(r)),()=>{e&&r.abort()}));if(t.data&&"string"==typeof t.data&&(t.data.startsWith("stream was reset:")||y.suspectedResponseDatasWithInvalidValue.includes(t.data)||y.guessResponseTruncated(s,t.data))){if(r.signal.aborted)return;console.log("There is an unknown problem to the response. Request one more time.");let e=!1;const n=yield*c.toGenerator(this.queryCanceler.callOrCanceled(()=>(e=!0,this.fetchResponse(r)),()=>{e&&r.abort()}));if(t=n.response,s=n.headers,t.data&&"string"==typeof t.data){if(t.data.startsWith("stream was reset:")||y.suspectedResponseDatasWithInvalidValue.includes(t.data))throw new Error(t.data);if(y.guessResponseTruncated(s,t.data))throw new Error("The response data seems to be truncated")}}this.setResponse(t),this.setError(void 0),this.saveResponse(t)}catch(r){if(a.default.isCancel(r))return void(i=!0);if(r instanceof h)return void("__fetching__proceed__next__"===r.message&&(n=!0));if(r.response){let n=r.response.statusText;const i="string"==typeof(null===(e=r.response.headers)||void 0===e?void 0:e["content-type"])?r.response.headers["content-type"]:"";i.startsWith("text/plain")&&"string"==typeof r.response.data&&(n=r.response.data),i.startsWith("application/json")&&(null===(t=r.response.data)||void 0===t?void 0:t.message)&&"string"==typeof(null===(s=r.response.data)||void 0===s?void 0:s.message)&&(n=r.response.data.message);const o={status:r.response.status,statusText:r.response.statusText,message:n,data:r.response.data};this.setError(o)}else if(r.request){const e={status:0,statusText:"Failed to get response",message:"Failed to get response"};this.setError(e)}else{const e={status:0,statusText:r.message,message:r.message,data:r};this.setError(e)}}finally{i||n||(this._isFetching=!1)}}get response(){return this._response}get error(){return this._error}setResponse(e){this._response=e}setError(e){this._error=e}cancel(e){this.queryCanceler.cancel(e)}waitResponse(){if(this.response)return Promise.resolve(this.response);const e=[];let t=!1;return e.push(o.reaction(()=>this.isFetching,()=>{t||(this.isFetching||this.fetch(),t=!0)},{fireImmediately:!0})),new Promise(t=>{const s=o.autorun(()=>{this.isFetching||t(this.response)});e.push(s)}).finally(()=>{for(const t of e)t()})}waitFreshResponse(){const e=[];let t=!1;return e.push(o.reaction(()=>this.isFetching,()=>{t||(this.isFetching||this.fetch(),t=!0)},{fireImmediately:!0})),new Promise(t=>{const s=o.autorun(()=>{this.isFetching||t(this.response)});e.push(s)}).finally(()=>{for(const t of e)t()})}}f.experimentalDeferInitialQueryController=void 0,f.suspectedResponseDatasWithInvalidValue=["The network connection was lost.","The request timed out."],r([o.observable.ref],f.prototype,"_response",void 0),r([o.observable],f.prototype,"_isFetching",void 0),r([o.observable.ref],f.prototype,"_error",void 0),r([o.observable],f.prototype,"_isStarted",void 0),r([o.observable.ref],f.prototype,"_instance",void 0),r([o.action],f.prototype,"start",null),r([o.flow],f.prototype,"handleAsyncOnStart",null),r([o.action],f.prototype,"stop",null),r([o.computed],f.prototype,"instance",null),r([o.flow],f.prototype,"fetch",null),r([o.action],f.prototype,"setResponse",null),r([o.action],f.prototype,"setError",null),t.ObservableQueryBase=f;class y extends f{constructor(e,t,s,r={}){super(t,r),this.kvStore=e,this._url="",this.refreshHandler=e=>{(null==e?void 0:e.ifError)?this.error&&this.fetch():this.fetch()},o.makeObservable(this),this.setUrl(s)}static refreshAllObserved(){y.eventListener.emit("refresh")}static refreshAllObservedIfError(){y.eventListener.emit("refresh",{ifError:!0})}onStart(){super.onStart(),y.eventListener.addListener("refresh",this.refreshHandler)}onStop(){super.onStop(),y.eventListener.addListener("refresh",this.refreshHandler)}get url(){return this._url}setUrl(e){this._url!==e&&(this._url=e,this.fetch())}fetchResponse(e){return n(this,void 0,void 0,(function*(){const t=yield this.instance.get(this.url,{signal:e.signal});return{headers:t.headers,response:{data:t.data,status:t.status,staled:!1,timestamp:Date.now()}}}))}getCacheKey(){return`${this.instance.name}-${this.instance.defaults.baseURL}${this.instance.getUri({url:this.url})}`}saveResponse(e){return n(this,void 0,void 0,(function*(){const t=this.getCacheKey();yield this.kvStore.set(t,e)}))}loadStaledResponse(){return n(this,void 0,void 0,(function*(){const e=this.getCacheKey(),t=yield this.kvStore.get(e);if(t)return Object.assign(Object.assign({},t),{staled:!0})}))}}y.eventListener=new u.default,r([o.observable],y.prototype,"_url",void 0),r([o.action],y.prototype,"setUrl",null),t.ObservableQuery=y;class g extends l.HasMapStore{constructor(e){super(e)}}t.ObservableQueryMap=g},1713:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableJsonRPCQueryMap=t.ObservableJsonRPCQuery=void 0;const i=s(897),o=s(5),a=s(69),c=s(2),l=s(612);class u extends i.ObservableQuery{constructor(e,t,s,r,n,i={}){super(e,t,s,i),this.method=r,this._params=n,o.makeObservable(this)}get params(){return this._params}setParams(e){this._params=e,this.fetch()}fetchResponse(e){return n(this,void 0,void 0,(function*(){const t=yield this.instance.post(this.url,{jsonrpc:"2.0",id:"1",method:this.method,params:this.params},{signal:e.signal});if(t.data.error&&t.data.error.message)throw new Error(t.data.error.message);if(!t.data.result)throw new Error("Unknown error");return{headers:t.headers,response:{data:t.data.result,status:t.status,staled:!1,timestamp:Date.now()}}}))}getCacheKey(){const e=c.Buffer.from(a.Hash.sha256(c.Buffer.from(JSON.stringify(this.params))).slice(0,8)).toString("hex");return`${super.getCacheKey()}-${this.method}-${e}`}}r([o.observable.ref],u.prototype,"_params",void 0),r([o.action],u.prototype,"setParams",null),t.ObservableJsonRPCQuery=u;class h extends l.HasMapStore{constructor(e){super(e)}}t.ObservableJsonRPCQueryMap=h},1714:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreUtils=void 0;const r=s(20);class n{static getBalancesFromCurrencies(e,t){const s=[];for(const n of t){const t=e[n.denom];if(t){const e=new r.Dec(n.amount);e.truncate().gt(new r.Int(0))&&s.push(new r.CoinPretty(t,e))}}return s}static getBalanceFromCurrency(e,t){const s=n.getBalancesFromCurrencies({[e.coinMinimalDenom]:e},t);return 1===s.length?s[0]:new r.CoinPretty(e,new r.Int(0)).ready(!1)}}t.StoreUtils=n},1715:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1716:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStores=void 0;t.mergeStores=(e,t,...s)=>{for(let r=0;r<s.length;r++){const n=(0,s[r])(e,...t);for(const t of Object.keys(n)){if(e[t])throw new Error(t+" is already merged");e[t]=n[t]}}return e}},1717:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmwasmAccountImpl=t.defaultCosmwasmMsgOpts=t.CosmwasmAccount=void 0;const i=s(21),o=s(20),a=s(762),c=s(2),l=n(s(165)),u=s(442),h=s(9);t.CosmwasmAccount={use:e=>(s,r,n)=>{const i=e.msgOptsCreator?e.msgOptsCreator(n):void 0;return{cosmwasm:new d(s,r,n,e.queriesStore,l.default(t.defaultCosmwasmMsgOpts,i||{}))}}},t.defaultCosmwasmMsgOpts={send:{cw20:{gas:15e4}},executeWasm:{type:"wasm/MsgExecuteContract"}};class d{constructor(e,t,s,r,n){this.base=e,this.chainGetter=t,this.chainId=s,this.queriesStore=r,this._msgOpts=n,this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(e,t,s){if("cw20"===new i.DenomHelper(t.coinMinimalDenom).type){const r=(()=>{let s=new o.Dec(e);return s=s.mul(o.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"cw20"!==t.type)throw new Error("Currency is not cw20");return h.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.makeExecuteContractTx("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})}}processSendToken(e,t,s,n,a,c,l){var h,d;return r(this,void 0,void 0,(function*(){switch(new i.DenomHelper(t.coinMinimalDenom).type){case"cw20":const r=(()=>{let s=new o.Dec(e);return s=s.mul(o.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"cw20"!==t.type)throw new Error("Currency is not cw20");return yield this.sendExecuteContractMsg("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],n,{amount:null!==(h=a.amount)&&void 0!==h?h:[],gas:null!==(d=a.gas)&&void 0!==d?d:this.msgOpts.send.cw20.gas.toString()},c,u.txEventsWithPreOnFulfill(l,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})),!0}return!1}))}makeExecuteContractTx(e="executeWasm",t,s,r,n){h.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr);const i={type:this.msgOpts.executeWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:s,funds:r}};return this.base.cosmos.makeTx(e,{aminoMsgs:[i],protoMsgs:[{typeUrl:"/cosmwasm.wasm.v1.MsgExecuteContract",value:a.MsgExecuteContract.encode({sender:i.value.sender,contract:i.value.contract,msg:c.Buffer.from(JSON.stringify(i.value.msg)),funds:i.value.funds}).finish()}]},n)}sendExecuteContractMsg(e="executeWasm",t,s,n,i="",o,l,u){var h;return r(this,void 0,void 0,(function*(){const r={type:this.msgOpts.executeWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:s,funds:n}};yield this.base.cosmos.sendMsgs(e,{aminoMsgs:[r],protoMsgs:[{typeUrl:"/cosmwasm.wasm.v1.MsgExecuteContract",value:a.MsgExecuteContract.encode({sender:r.value.sender,contract:r.value.contract,msg:c.Buffer.from(JSON.stringify(r.value.msg)),funds:r.value.funds}).finish()}]},i,{amount:null!==(h=o.amount)&&void 0!==h?h:[],gas:o.gas},l,u)}))}get queries(){return this.queriesStore.get(this.chainId)}}t.CosmwasmAccountImpl=d},1718:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinGeckoPriceStore=void 0;const o=s(122),a=i(s(89)),c=s(21),l=s(20),u=i(s(165)),h=s(5);class d{constructor(e){this.duration=e,this.fns=[],this.callback=()=>{if(null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.fns.length>0){(0,this.fns[this.fns.length-1])(),this.fns=[]}}}call(e){this.duration<=0?e():(this.fns.push(e),null!=this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.callback,this.duration))}}class p{constructor(e,t,s=0){if(this.array=[],this.map={},this.restored={},this.isRestored=!1,this.storeKey="",!t)throw new Error("Empty store key");this.kvStore=e,this.storeKey=t,this.throttler=new d(s)}has(e){return!0===this.map[e]}add(...e){let t=!1,s=[];for(const r of e)this.isRestored&&this.restored[r]&&(t=!0,delete this.restored[r]),this.has(r)||s.push(r);if(0===s.length)return this.isRestored&&t&&this.throttler.call(()=>this.save()),!1;s=[...new Set(s)];for(const e of s)this.map[e]=!0;let r=this.array.slice().concat(s);return r=r.sort((e,t)=>e<t?-1:1),this.array=r,this.isRestored&&this.throttler.call(()=>this.save()),!0}get values(){return this.array.slice()}save(){return n(this,void 0,void 0,(function*(){yield this.kvStore.set(this.storeKey,this.array.filter(e=>!this.restored[e]))}))}restore(){return n(this,void 0,void 0,(function*(){const e=yield this.kvStore.get(this.storeKey);if(e){for(const t of e)this.restored[t]=!0;for(const e of this.array)this.restored[e]&&delete this.restored[e];this.add(...e)}this.isRestored=!0}))}}class f extends o.ObservableQuery{constructor(e,t,s,r={}){var n;super(e,a.default.create({baseURL:r.baseURL||"https://api.coingecko.com/api/v3"}),r.uri||"/simple/price"),this._optionUri=r.uri||"/simple/price",this.isInitialized=!1;const i=null!==(n=r.throttleDuration)&&void 0!==n?n:250;this._coinIds=new p(e,"__coin_ids",i),this._vsCurrencies=new p(e,"__vs_currencies",i),this._defaultVsCurrency=s,this._supportedVsCurrencies=t,this._throttler=new d(i),h.makeObservable(this),this.restoreDefaultVsCurrency()}onStart(){return super.onStart(),this.init()}init(){return n(this,void 0,void 0,(function*(){this.isInitialized||(yield Promise.all([this._coinIds.restore(),this._vsCurrencies.restore()]),this._coinIds.save(),this._vsCurrencies.save(),this.updateURL([],[],!0),this.isInitialized=!0)}))}get defaultVsCurrency(){return this._defaultVsCurrency}setDefaultVsCurrency(e){this._defaultVsCurrency=e,this.saveDefaultVsCurrency()}*restoreDefaultVsCurrency(){const e=yield*c.toGenerator(this.kvStore.get("__default_vs_currency"));e&&(this._defaultVsCurrency=e)}saveDefaultVsCurrency(){return n(this,void 0,void 0,(function*(){yield this.kvStore.set("__default_vs_currency",this.defaultVsCurrency)}))}get supportedVsCurrencies(){return this._supportedVsCurrencies}getFiatCurrency(e){return this._supportedVsCurrencies[e]}canFetch(){return this._coinIds.values.length>0&&this._vsCurrencies.values.length>0}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return n(this,void 0,void 0,(function*(){const{response:s,headers:r}=yield t.fetchResponse.call(this,e);return{headers:r,response:Object.assign(Object.assign({},s),{data:u.default(this.response?this.response.data:{},s.data)})}}))}updateURL(e,t,s=!1){const r=this._coinIds.add(...e),n=this._vsCurrencies.add(...t);if(r||n||s){const e=`${this._optionUri}?ids=${this._coinIds.values.join(",")}&vs_currencies=${this._vsCurrencies.values.join(",")}`;this.isInitialized?this._throttler.call(()=>this.setUrl(e)):this.setUrl(e)}}getCacheKey(){return`${this.instance.name}-${this.instance.defaults.baseURL}${this.instance.getUri({url:this._optionUri})}`}getPrice(e,t){if(t||(t=this.defaultVsCurrency),!this.supportedVsCurrencies[t])return;if(this.updateURL([e],[t]),!this.response)return;const s=this.response.data[e];return s?s[t]:void 0}calculatePrice(e,t){if(!e.currency.coinGeckoId)return;t||(t=this.defaultVsCurrency);const s=this.supportedVsCurrencies[t];if(!s)return;if(e.toDec().isZero())return new l.PricePretty(s,0);const r=this.getPrice(e.currency.coinGeckoId,t);if(void 0===r)return new l.PricePretty(s,new l.Int(0)).ready(!1);const n=e.toDec(),i=new l.Dec(r.toString());return new l.PricePretty(s,n.mul(i))}}r([h.observable],f.prototype,"_defaultVsCurrency",void 0),r([h.action],f.prototype,"setDefaultVsCurrency",null),r([h.flow],f.prototype,"restoreDefaultVsCurrency",null),t.CoinGeckoPriceStore=f},1719:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1720),t),n(s(65),t),n(s(372),t),n(s(1721),t),n(s(1765),t),n(s(1769),t),n(s(1773),t),n(s(1778),t)},1720:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.QueriesStore=t.createQueriesSetBase=void 0;const n=s(5),i=s(372),o=s(122);t.createQueriesSetBase=(e,t,s)=>({queryBalances:new i.ObservableQueryBalances(e,t,s)});class a{constructor(e,t,...s){this.kvStore=e,this.chainGetter=t,this.queriesMap=new Map,this.queriesCreators=s,n.makeObservable(this)}get(e){if(!this.queriesMap.has(e)){const s=t.createQueriesSetBase(this.kvStore,e,this.chainGetter);n.runInAction(()=>{const t=o.mergeStores(s,[this.kvStore,e,this.chainGetter],...this.queriesCreators);this.queriesMap.set(e,t)})}return this.queriesMap.get(e)}}r([n.observable.shallow],a.prototype,"queriesMap",void 0),t.QueriesStore=a},1721:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthZ=t.Balance=t.IBC=t.Account=t.Supply=t.Staking=t.Governance=void 0,i(s(899),t),i(s(903),t),i(s(904),t),i(s(905),t),i(s(906),t),i(s(907),t),i(s(908),t),t.Governance=o(s(902)),t.Staking=o(s(611)),t.Supply=o(s(1743)),t.Account=o(s(1744)),t.IBC=o(s(1745)),t.Balance=o(s(1746)),t.AuthZ=o(s(1747)),i(s(1748),t)},1722:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryGovernance=void 0;const n=s(65),i=s(5),o=s(900),a=s(20),c=s(146),l=s(901);class u extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/gov/v1beta1/proposals?pagination.limit=3000"),this._queryPool=r,this.paramDeposit=void 0,this.paramVoting=void 0,this.paramTally=void 0,this.getProposal=c.computedFn(e=>this.proposals.find(t=>t.id===e)),i.makeObservable(this)}getQueryPool(){return this._queryPool}getQueryParamDeposit(){return this.paramDeposit||i.runInAction(()=>{this.paramDeposit=new o.ObservableQueryGovParamDeposit(this.kvStore,this.chainId,this.chainGetter)}),this.paramDeposit}getQueryParamVoting(){return this.paramVoting||i.runInAction(()=>{this.paramVoting=new o.ObservableQueryGovParamVoting(this.kvStore,this.chainId,this.chainGetter)}),this.paramVoting}getQueryParamTally(){return this.paramTally||i.runInAction(()=>{this.paramTally=new o.ObservableQueryGovParamTally(this.kvStore,this.chainId,this.chainGetter)}),this.paramTally}get quorum(){const e=this.getQueryParamTally();if(!e.response)return new a.IntPretty(new a.Int(0)).ready(!1);let t=new a.Dec(e.response.data.tally_params.quorum);return t=t.mulTruncate(a.DecUtils.getPrecisionDec(2)),new a.IntPretty(t)}get proposals(){if(!this.response)return[];const e=[];for(const t of this.response.data.proposals)e.push(new l.ObservableQueryProposal(this.kvStore,this.chainId,this.chainGetter,t,this));return e.reverse()}}r([i.observable.ref],u.prototype,"paramDeposit",void 0),r([i.observable.ref],u.prototype,"paramVoting",void 0),r([i.observable.ref],u.prototype,"paramTally",void 0),r([i.computed],u.prototype,"quorum",null),r([i.computed],u.prototype,"proposals",null),t.ObservableQueryGovernance=u},1723:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryProposalVote=t.ObservableQueryProposalVoteInner=void 0;const r=s(65);class n extends r.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/gov/v1beta1/proposals/${r}/votes/${n}`),this.proposalId=r,this.bech32Address=n}get vote(){if(!this.response)return"Unspecified";switch(this.response.data.vote.option){case"VOTE_OPTION_YES":return"Yes";case"VOTE_OPTION_ABSTAIN":return"Abstain";case"VOTE_OPTION_NO":return"No";case"VOTE_OPTION_NO_WITH_VETO":return"NoWithVeto";default:return"Unspecified"}}canFetch(){return this.bech32Address.length>0}}t.ObservableQueryProposalVoteInner=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const{proposalId:t,voter:s}=JSON.parse(e);return new n(this.kvStore,this.chainId,this.chainGetter,t,s)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getVote(e,t){const s=JSON.stringify({proposalId:e,voter:t});return this.get(s)}}t.ObservableQueryProposalVote=i},1724:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDelegations=t.ObservableQueryDelegationsInner=void 0;const n=s(65),i=s(20),o=s(5),a=s(146);class c extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,`/cosmos/staking/v1beta1/delegations/${r}?pagination.limit=1000`),this.getDelegationTo=a.computedFn(e=>{const t=this.delegations,s=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new i.CoinPretty(s,new i.Int(0)).ready(!1);for(const r of t)if(r.delegation.validator_address===e)return new i.CoinPretty(s,new i.Int(r.balance.amount));return new i.CoinPretty(s,new i.Int(0))}),o.makeObservable(this),this.bech32Address=r}canFetch(){return this.bech32Address.length>0}get total(){const e=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new i.CoinPretty(e,new i.Int(0)).ready(!1);let t=new i.Int(0);for(const e of this.response.data.delegation_responses)t=t.add(new i.Int(e.balance.amount));return new i.CoinPretty(e,t)}get delegationBalances(){if(!this.response)return[];const e=this.chainGetter.getChain(this.chainId).stakeCurrency,t=[];for(const s of this.response.data.delegation_responses)t.push({validatorAddress:s.delegation.validator_address,balance:new i.CoinPretty(e,new i.Int(s.balance.amount))});return t}get delegations(){return this.response?this.response.data.delegation_responses:[]}}r([o.computed],c.prototype,"total",null),r([o.computed],c.prototype,"delegationBalances",null),r([o.computed],c.prototype,"delegations",null),t.ObservableQueryDelegationsInner=c;class l extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new c(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryDelegations=l},1725:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryRewards=t.ObservableQueryRewardsInner=void 0;const n=s(65),i=s(5),o=s(20),a=s(122),c=s(146);class l extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,`/cosmos/distribution/v1beta1/delegators/${r}/rewards`),this.getRewardsOf=c.computedFn(e=>{var t,s,r;const n=this.chainGetter.getChain(this.chainId).currencies.reduce((e,t)=>("type"in t||(e[t.coinMinimalDenom]=t),e),{}),i=null===(s=null===(t=this.response)||void 0===t?void 0:t.data.rewards)||void 0===s?void 0:s.find(t=>t.validator_address===e);return a.StoreUtils.getBalancesFromCurrencies(n,null!==(r=null==i?void 0:i.reward)&&void 0!==r?r:[])}),this.getStakableRewardOf=c.computedFn(e=>{var t,s,r;const n=this.chainGetter.getChain(this.chainId),i=null===(s=null===(t=this.response)||void 0===t?void 0:t.data.rewards)||void 0===s?void 0:s.find(t=>t.validator_address===e);return a.StoreUtils.getBalanceFromCurrency(n.stakeCurrency,null!==(r=null==i?void 0:i.reward)&&void 0!==r?r:[])}),this.getUnstakableRewardsOf=c.computedFn(e=>{var t,s,r;const n=this.chainGetter.getChain(this.chainId),i=n.currencies.reduce((e,t)=>("type"in t||t.coinMinimalDenom===n.stakeCurrency.coinMinimalDenom||(e[t.coinMinimalDenom]=t),e),{}),o=null===(s=null===(t=this.response)||void 0===t?void 0:t.data.rewards)||void 0===s?void 0:s.find(t=>t.validator_address===e);return a.StoreUtils.getBalancesFromCurrencies(i,null!==(r=null==o?void 0:o.reward)&&void 0!==r?r:[])}),this.getDescendingPendingRewardValidatorAddresses=c.computedFn(e=>{var t,s;if(!this.response)return[];const r=this.chainGetter.getChain(this.chainId),n=null!==(s=null===(t=this.response.data.rewards)||void 0===t?void 0:t.slice())&&void 0!==s?s:[];return n.sort((e,t)=>{var s,n;const i=a.StoreUtils.getBalanceFromCurrency(r.stakeCurrency,null!==(s=e.reward)&&void 0!==s?s:[]),o=a.StoreUtils.getBalanceFromCurrency(r.stakeCurrency,null!==(n=t.reward)&&void 0!==n?n:[]);return i.toDec().gt(o.toDec())?-1:1}),n.filter(e=>{if(e.reward)for(const t of e.reward){if(new o.Dec(t.amount).truncate().gt(new o.Int(0)))return!0}return!1}).slice(0,e).map(e=>e.validator_address)}),i.makeObservable(this),this.bech32Address=r}canFetch(){return this.bech32Address.length>0}get rewards(){var e,t;const s=this.chainGetter.getChain(this.chainId).currencies.reduce((e,t)=>("type"in t||(e[t.coinMinimalDenom]=t),e),{});return a.StoreUtils.getBalancesFromCurrencies(s,null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.total)&&void 0!==t?t:[])}get stakableReward(){var e,t;const s=this.chainGetter.getChain(this.chainId);return a.StoreUtils.getBalanceFromCurrency(s.stakeCurrency,null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.total)&&void 0!==t?t:[])}get unstakableRewards(){var e,t;const s=this.chainGetter.getChain(this.chainId),r=s.currencies.reduce((e,t)=>("type"in t||t.coinMinimalDenom===s.stakeCurrency.coinMinimalDenom||(e[t.coinMinimalDenom]=t),e),{});return a.StoreUtils.getBalancesFromCurrencies(r,null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.total)&&void 0!==t?t:[])}get pendingRewardValidatorAddresses(){var e;if(!this.response)return[];const t=[];for(const s of null!==(e=this.response.data.rewards)&&void 0!==e?e:[])if(s.reward)for(const e of s.reward){if(new o.Dec(e.amount).truncate().gt(new o.Int(0))){t.push(s.validator_address);break}}return t}}r([i.computed],l.prototype,"rewards",null),r([i.computed],l.prototype,"stakableReward",null),r([i.computed],l.prototype,"unstakableRewards",null),r([i.computed],l.prototype,"pendingRewardValidatorAddresses",null),t.ObservableQueryRewardsInner=l;class u extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new l(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryRewards=u},1726:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryUnbondingDelegations=t.ObservableQueryUnbondingDelegationsInner=void 0;const n=s(65),i=s(20),o=s(5);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,`/cosmos/staking/v1beta1/delegators/${r}/unbonding_delegations?pagination.limit=1000`),o.makeObservable(this),this.bech32Address=r}canFetch(){return this.bech32Address.length>0}get total(){const e=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new i.CoinPretty(e,new i.Int(0)).ready(!1);let t=new i.Int(0);for(const e of this.response.data.unbonding_responses)for(const s of e.entries)t=t.add(new i.Int(s.balance));return new i.CoinPretty(e,t)}get unbondingBalances(){const e=this.unbondings,t=this.chainGetter.getChain(this.chainId).stakeCurrency,s=[];for(const r of e){const e=[];for(const s of r.entries)e.push({creationHeight:new i.Int(s.creation_height),completionTime:s.completion_time,balance:new i.CoinPretty(t,new i.Int(s.balance))});s.push({validatorAddress:r.validator_address,entries:e})}return s}get unbondings(){return this.response?this.response.data.unbonding_responses:[]}}r([o.computed],a.prototype,"total",null),r([o.computed],a.prototype,"unbondingBalances",null),r([o.computed],a.prototype,"unbondings",null),t.ObservableQueryUnbondingDelegationsInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryUnbondingDelegations=c},1727:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryValidators=t.ObservableQueryValidatorsInner=t.ObservableQueryValidatorThumbnail=void 0;const o=s(65),a=s(611),c=s(5),l=s(122),u=i(s(89)),h=i(s(1728)),d=s(20),p=s(146);class f extends l.ObservableQuery{constructor(e,t){super(e,u.default.create({baseURL:"https://keybase.io/"}),"_/api/1.0/user/lookup.json?fields=pictures&key_suffix="+t.description.identity),c.makeObservable(this),this.validator=t}canFetch(){return""!==this.validator.description.identity}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return n(this,void 0,void 0,(function*(){return yield f.fetchingThumbnailQueue.add(()=>t.fetchResponse.call(this,e))}))}get thumbnail(){var e,t,s,r;return 0===(null===(e=this.response)||void 0===e?void 0:e.data.status.code)&&this.response.data.them&&this.response.data.them.length>0&&null!==(r=null===(s=null===(t=this.response.data.them[0].pictures)||void 0===t?void 0:t.primary)||void 0===s?void 0:s.url)&&void 0!==r?r:""}}f.fetchingThumbnailQueue=new h.default({concurrency:3}),r([c.computed],f.prototype,"thumbnail",null),t.ObservableQueryValidatorThumbnail=f;class y extends o.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/staking/v1beta1/validators?pagination.limit=1000&status="+(()=>{switch(r){case a.BondStatus.Bonded:return"BOND_STATUS_BONDED";case a.BondStatus.Unbonded:return"BOND_STATUS_UNBONDED";case a.BondStatus.Unbonding:return"BOND_STATUS_UNBONDING";default:return"BOND_STATUS_UNSPECIFIED"}})()),this.status=r,this.thumbnailMap=new Map,this.getValidator=p.computedFn(e=>this.validators.find(t=>t.operator_address===e)),this.getValidatorThumbnail=p.computedFn(e=>{const t=this.validators.find(t=>t.operator_address===e);if(!t)return"";if(!t.description.identity)return"";const s=t.description.identity;return this.thumbnailMap.has(s)||c.runInAction(()=>{this.thumbnailMap.set(s,new f(this.kvStore,t))}),this.thumbnailMap.get(s).thumbnail}),this.getValidatorShare=p.computedFn(e=>{const t=this.validators.find(t=>t.operator_address===e);if(!t)return;const s=this.chainGetter.getChain(this.chainId).stakeCurrency,r=new d.Dec(t.tokens).truncate();return new d.CoinPretty(s,r)}),c.makeObservable(this)}get validators(){return this.response?this.response.data.validators:[]}get validatorsSortedByVotingPower(){return this.validators.sort((e,t)=>new d.Dec(e.tokens).gt(new d.Dec(t.tokens))?-1:1)}}r([c.observable.shallow],y.prototype,"thumbnailMap",void 0),r([c.computed],y.prototype,"validators",null),r([c.computed],y.prototype,"validatorsSortedByVotingPower",null),t.ObservableQueryValidatorsInner=y;class g extends o.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new y(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryStatus(e=a.BondStatus.Bonded){return this.get(e)}}t.ObservableQueryValidators=g},1733:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStakingPool=void 0;const n=s(65),i=s(5),o=s(20);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/staking/v1beta1/pool"),i.makeObservable(this)}get notBondedTokens(){const e=this.chainGetter.getChain(this.chainId);return this.response?new o.CoinPretty(e.stakeCurrency,this.response.data.pool.not_bonded_tokens):new o.CoinPretty(e.stakeCurrency,0)}get bondedTokens(){const e=this.chainGetter.getChain(this.chainId);return this.response?new o.CoinPretty(e.stakeCurrency,this.response.data.pool.bonded_tokens):new o.CoinPretty(e.stakeCurrency,0)}}r([i.computed],a.prototype,"notBondedTokens",null),r([i.computed],a.prototype,"bondedTokens",null),t.ObservableQueryStakingPool=a},1734:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStakingParams=void 0;const n=s(65),i=s(5);class o extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/staking/v1beta1/params"),i.makeObservable(this)}get unbondingTimeSec(){return this.response?parseInt(this.response.data.params.unbonding_time.replace("s","")):0}get maxValidators(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.max_validators)&&void 0!==t?t:0}get maxEntries(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.max_entries)&&void 0!==t?t:0}get historicalEntries(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.historical_entries)&&void 0!==t?t:0}get bondDenom(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.bond_denom)&&void 0!==t?t:""}}r([i.computed],o.prototype,"unbondingTimeSec",null),t.ObservableQueryStakingParams=o},1735:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryInflation=void 0;const n=s(20),i=s(5);class o{constructor(e,t,s,r,n,o,a,c,l,u,h,d,p,f){this.chainId=e,this.chainGetter=t,this._queryMint=s,this._queryPool=r,this._querySupplyTotal=n,this._queryIrisMint=o,this._querySifchainAPY=a,this._queryOsmosisEpochs=c,this._queryOsmosisEpochProvisions=l,this._queryOsmosisMintParams=u,this._queryJunoAnnualProvisions=h,this._queryDistributionParams=d,this._queryStrideEpochProvisions=p,this._queryStrideMintParams=f,i.makeObservable(this)}get error(){var e,t;return null!==(t=null!==(e=this._queryMint.error)&&void 0!==e?e:this._queryPool.error)&&void 0!==t?t:this._querySupplyTotal.getQueryStakeDenom().error}get isFetching(){return this._queryMint.isFetching||this._queryPool.isFetching||this._querySupplyTotal.getQueryStakeDenom().isFetching}get inflation(){var e,t,s,r;try{let i;const o=this.chainGetter.getChain(this.chainId);if(o.chainId.startsWith("irishub"))i=new n.Dec(null!==(t=null===(e=this._queryIrisMint.response)||void 0===e?void 0:e.data.result.inflation)&&void 0!==t?t:"0").mul(n.DecUtils.getPrecisionDec(2));else{if(o.chainId.startsWith("sifchain"))return new n.IntPretty(new n.Dec(this._querySifchainAPY.liquidityAPY.toString()));if(o.chainId.startsWith("osmosis")){const e=this._queryOsmosisMintParams;if(e.epochIdentifier){const t=this._queryOsmosisEpochs.getEpoch(e.epochIdentifier).duration;if(t){const s=this._queryOsmosisEpochProvisions.epochProvisions;if(s&&this._querySupplyTotal.getQueryStakeDenom().response){const r=new n.Dec(s.toDec().mul(e.distributionProportions.staking).truncate().toString()).mul(new n.Dec((31536e3/t).toString())),o=n.DecUtils.getPrecisionDec(8);i=r.quo(o).mul(n.DecUtils.getPrecisionDec(2))}}}}else if(o.chainId.startsWith("juno")){if(this._queryJunoAnnualProvisions.annualProvisionsRaw&&this._queryPool.response){const e=new n.Dec(this._queryPool.response.data.pool.bonded_tokens),t=this._queryJunoAnnualProvisions.annualProvisionsRaw.quo(e).mul(new n.Dec(1).sub(this._queryDistributionParams.communityTax.toDec())).mul(n.DecUtils.getTenExponentN(2));return new n.IntPretty(t)}}else{if(o.chainId.startsWith("stride")){const e=this._queryStrideEpochProvisions.epochProvisions.mul(new n.Dec(8760)),t=this._queryStrideMintParams.distributionProportions.staking,s=this._queryPool.bondedTokens;return s.toDec().isZero()?new n.IntPretty(new n.Dec(0)):new n.IntPretty(t.mul(e.toDec()).quo(s.toDec()).mulTruncate(n.DecUtils.getTenExponentNInPrecisionRange(2)))}i=new n.Dec(null!==(r=null===(s=this._queryMint.response)||void 0===s?void 0:s.data.inflation)&&void 0!==r?r:"0").mul(n.DecUtils.getPrecisionDec(2))}}if(!i||i.equals(new n.Dec(0)))return new n.IntPretty(new n.Int(0)).ready(!1);if(this._queryPool.response){const e=new n.Dec(this._queryPool.response.data.pool.bonded_tokens),t=(()=>{if(o.chainId.startsWith("osmosis"))return n.DecUtils.getPrecisionDec(14).toString();if(o.chainId.startsWith("umee")||o.chainId.startsWith("quasar")||o.chainId.startsWith("crypto-org-chain-mainnet")||o.chainId.startsWith("quicksilver")||o.chainId.startsWith("regen")){const e=this._querySupplyTotal.getQueryDenomByQueryString(o.stakeCurrency.coinMinimalDenom).response;return e?e.data.amount.amount:"0"}const e=this._querySupplyTotal.getQueryStakeDenom().response;return e?e.data.amount.amount:"0"})(),s=new n.Dec(t);if(s.gt(new n.Dec(0))){const t=e.quo(s);i=i.mul(new n.Dec(1).sub(this._queryDistributionParams.communityTax.toDec())).quo(t)}}return new n.IntPretty(i)}catch(e){return console.log(e),new n.IntPretty(new n.Int(0)).ready(!1)}}}r([i.computed],o.prototype,"inflation",null),t.ObservableQueryInflation=o},1736:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryMintingInfation=void 0;const r=s(65);class n extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/mint/v1beta1/inflation")}}t.ObservableQueryMintingInfation=n},1737:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySupplyTotal=t.ObservableChainQuerySupplyTotal=void 0;const r=s(65);class n extends r.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/bank/v1beta1/supply/"+r)}}t.ObservableChainQuerySupplyTotal=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new n(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryDenom(e){return this.get(e)}getQueryDenomByQueryString(e){return this.get("by_denom?denom="+e)}getQueryStakeDenom(){const e=this.chainGetter.getChain(this.chainId);return this.get(e.stakeCurrency.coinMinimalDenom)}}t.ObservableQuerySupplyTotal=i},1738:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIBCChannel=t.ObservableChainQueryIBCChannel=void 0;const r=s(65),n=s(5);class i extends r.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/ibc/core/channel/v1beta1/channels/${n}/ports/${r}`),this.portId=r,this.channelId=n}onStart(){return super.onStart(),new Promise(e=>{this.disposer=n.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("ibc-go")&&this.setUrl(`/ibc/core/channel/v1/channels/${this.channelId}/ports/${this.portId}`),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}}t.ObservableChainQueryIBCChannel=i;class o extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const t=JSON.parse(e);return new i(this.kvStore,this.chainId,this.chainGetter,t.portId,t.channelId)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getTransferChannel(e){return this.getChannel("transfer",e)}getChannel(e,t){const s=JSON.stringify({portId:e,channelId:t});return this.get(s)}}t.ObservableQueryIBCChannel=o},1739:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIBCClientState=t.ObservableChainQueryClientState=void 0;const n=s(65),i=s(5);class o extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/ibc/core/channel/v1beta1/channels/${n}/ports/${r}/client_state`),this.portId=r,this.channelId=n}onStart(){return super.onStart(),new Promise(e=>{this.disposer=i.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("ibc-go")&&this.setUrl(`/ibc/core/channel/v1/channels/${this.channelId}/ports/${this.portId}/client_state`),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}get clientChainId(){var e,t;if(this.response)return null===(t=null===(e=this.response.data.identified_client_state)||void 0===e?void 0:e.client_state)||void 0===t?void 0:t.chain_id}}r([i.computed],o.prototype,"clientChainId",null),t.ObservableChainQueryClientState=o;class a extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const t=JSON.parse(e);return new o(this.kvStore,this.chainId,this.chainGetter,t.portId,t.channelId)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getClientStateOnTransferPort(e){return this.getClientState("transfer",e)}getClientState(e,t){const s=JSON.stringify({portId:e,channelId:t});return this.get(s)}}t.ObservableQueryIBCClientState=a},1740:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDenomTrace=t.ObservableChainQueryDenomTrace=void 0;const n=s(65),i=s(5);class o extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/ibc/applications/transfer/v1beta1/denom_traces/"+r),this.hash=r}onStart(){return super.onStart(),new Promise(e=>{this.disposer=i.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("ibc-go")&&this.setUrl("/ibc/apps/transfer/v1/denom_traces/"+this.hash),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}get paths(){if(!this.response)return[];const e=this.response.data.denom_trace.path.split("/");if(e.length%2!=0)return console.log("Failed to parse paths",e),[];const t=[];for(let s=0;s<e.length;s+=2)t.push(e.slice(s,s+2));return t.map(e=>({portId:e[0],channelId:e[1]}))}get denom(){if(this.response)return this.response.data.denom_trace.base_denom}get denomTrace(){if(this.response&&this.denom)return{denom:this.denom,paths:this.paths}}}r([i.computed],o.prototype,"paths",null),r([i.computed],o.prototype,"denomTrace",null),t.ObservableChainQueryDenomTrace=o;class a extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new o(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getDenomTrace(e){return this.get(e)}}t.ObservableQueryDenomTrace=a},1741:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCosmosBalanceRegistry=t.ObservableQueryCosmosBalances=t.ObservableQueryBalanceNative=void 0;const n=s(21),i=s(5),o=s(20),a=s(122),c=s(372),l=s(65);class u extends c.ObservableQueryBalanceInner{constructor(e,t,s,r,n){super(e,t,s,"",r),this.nativeBalances=n,i.makeObservable(this)}canFetch(){return!1}get isFetching(){return this.nativeBalances.isFetching}get error(){return this.nativeBalances.error}get response(){return this.nativeBalances.response}*fetch(){yield this.nativeBalances.fetch()}get balance(){const e=this.currency;return this.nativeBalances.response?a.StoreUtils.getBalanceFromCurrency(e,this.nativeBalances.response.data.balances):new o.CoinPretty(e,new o.Int(0)).ready(!1)}}r([i.override],u.prototype,"fetch",null),r([i.computed],u.prototype,"balance",null),t.ObservableQueryBalanceNative=u;class h extends l.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,`/cosmos/bank/v1beta1/balances/${r}?pagination.limit=1000`),this.duplicatedFetchCheck=!1,this.bech32Address=r,i.makeObservable(this)}canFetch(){return this.bech32Address.length>0}*fetch(){this.duplicatedFetchCheck||(this.duplicatedFetchCheck=!0,setTimeout(()=>{this.duplicatedFetchCheck=!1},1),yield super.fetch())}setResponse(e){super.setResponse(e);const t=this.chainGetter.getChain(this.chainId),s=e.data.balances.map(e=>e.denom);t.addUnknownCurrencies(...s)}}r([i.override],h.prototype,"fetch",null),t.ObservableQueryCosmosBalances=h;t.ObservableQueryCosmosBalanceRegistry=class{constructor(e){this.kvStore=e,this.nativeBalances=new Map}getBalanceInner(e,t,s,r){const i=new n.DenomHelper(r);if("native"!==i.type)return;const o=`${e}/${s}`;return this.nativeBalances.has(o)||this.nativeBalances.set(o,new h(this.kvStore,e,t,s)),new u(this.kvStore,e,t,i,this.nativeBalances.get(o))}}},1742:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySpendableBalances=t.ObservableChainQuerySpendableBalances=void 0;const n=s(65),i=s(20),o=s(5);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/bank/v1beta1/spendable_balances/"+r)}get balances(){if(!this.response)return[];const e=[],t=this.chainGetter.getChain(this.chainId);for(const s of this.response.data.balances){const r=t.findCurrency(s.denom);r&&e.push(new i.CoinPretty(r,s.amount))}return e}}r([o.computed],a.prototype,"balances",null),t.ObservableChainQuerySpendableBalances=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQuerySpendableBalances=c},1743:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1744:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1745:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1746:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1747:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1748:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmosQueriesImpl=t.CosmosQueries=void 0;const r=s(905),n=s(904),i=s(903),o=s(899),a=s(906),c=s(1749),l=s(907),u=s(1750),h=s(1751),d=s(1755),p=s(1757),f=s(1759),y=s(1761),g=s(908);t.CosmosQueries={use:()=>(e,t,s,r)=>({cosmos:new v(e,t,s,r)})};class v{constructor(e,t,s,v){this.queryRPCStatus=new p.ObservableQueryRPCStatus(t,s,v),this.querySifchainAPY=new c.ObservableQuerySifchainLiquidityAPY(t,s),e.queryBalances.addBalanceRegistry(new l.ObservableQueryCosmosBalanceRegistry(t)),this.queryAccount=new r.ObservableQueryAccount(t,s,v),this.querySpendableBalances=new l.ObservableQuerySpendableBalances(t,s,v),this.queryMint=new n.ObservableQueryMintingInfation(t,s,v),this.queryPool=new i.ObservableQueryStakingPool(t,s,v),this.queryStakingParams=new i.ObservableQueryStakingParams(t,s,v),this.querySupplyTotal=new n.ObservableQuerySupplyTotal(t,s,v);const b=new h.ObservableQueryOsmosisMintParmas(t,s,v);this.queryDistributionParams=new d.ObservableQueryDistributionParams(t,s,v);const m=new y.ObservableQueryStrideMintParams(t,s,v);this.queryInflation=new n.ObservableQueryInflation(s,v,this.queryMint,this.queryPool,this.querySupplyTotal,new u.ObservableQueryIrisMintingInfation(t,s,v),this.querySifchainAPY,new h.ObservableQueryOsmosisEpochs(t,s,v),new h.ObservableQueryOsmosisEpochProvisions(t,s,v,b),b,new f.ObservableQueryJunoAnnualProvisions(t,s,v),this.queryDistributionParams,new y.ObservableQueryStrideEpochProvisions(t,s,v),m),this.queryRewards=new i.ObservableQueryRewards(t,s,v),this.queryDelegations=new i.ObservableQueryDelegations(t,s,v),this.queryUnbondingDelegations=new i.ObservableQueryUnbondingDelegations(t,s,v),this.queryValidators=new i.ObservableQueryValidators(t,s,v),this.queryGovernance=new o.ObservableQueryGovernance(t,s,v,this.queryPool),this.queryProposalVote=new o.ObservableQueryProposalVote(t,s,v),this.queryIBCClientState=new a.ObservableQueryIBCClientState(t,s,v),this.queryIBCChannel=new a.ObservableQueryIBCChannel(t,s,v),this.queryIBCDenomTrace=new a.ObservableQueryDenomTrace(t,s,v),this.queryAuthZGranter=new g.ObservableQueryAuthZGranter(t,s,v)}}t.CosmosQueriesImpl=v},1749:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySifchainLiquidityAPY=void 0;const i=s(122),o=n(s(89)),a=s(5);class c extends i.ObservableQuery{constructor(e,t){super(e,o.default.create({baseURL:"https://data.sifchain.finance/"}),"beta/validator/stakingRewards"),this.chainId=t,a.makeObservable(this)}canFetch(){return this.chainId.startsWith("sifchain")}get liquidityAPY(){return this.response?100*Number(this.response.data.rate):0}}r([a.computed],c.prototype,"liquidityAPY",null),t.ObservableQuerySifchainLiquidityAPY=c},1750:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIrisMintingInfation=void 0;const r=s(65);class n extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/mint/params")}}t.ObservableQueryIrisMintingInfation=n},1751:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1752),t),n(s(1753),t),n(s(1754),t)},1752:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisEpochs=t.ObservableQueryOsmosisEpochsInner=void 0;const n=s(65),i=s(5);class o{constructor(e,t){this.identifier=e,this.queryEpochs=t}get epoch(){var e;return null===(e=this.queryEpochs.response)||void 0===e?void 0:e.data.epochs.find(e=>e.identifier===this.identifier)}get duration(){return this.epoch?parseInt(this.epoch.duration.replace("s","")):0}get startTime(){return this.epoch?new Date(this.epoch.current_epoch_start_time):new Date(0)}get endTime(){const e=this.startTime;return this.duration?new Date(e.getTime()+1e3*this.duration):e}}r([i.computed],o.prototype,"epoch",null),r([i.computed],o.prototype,"duration",null),r([i.computed],o.prototype,"startTime",null),r([i.computed],o.prototype,"endTime",null),t.ObservableQueryOsmosisEpochsInner=o;class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/epochs/v1beta1/epochs"),this.map=new Map}getEpoch(e){if(!this.map.has(e)){const t=new o(e,this);this.map.set(e,t)}return this.map.get(e)}}r([i.observable.shallow],a.prototype,"map",void 0),t.ObservableQueryOsmosisEpochs=a},1753:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisEpochProvisions=void 0;const n=s(65),i=s(5),o=s(20);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/osmosis/mint/v1beta1/epoch_provisions"),this.queryMintParmas=r,i.makeObservable(this)}get epochProvisions(){if(!this.response||!this.queryMintParmas.mintDenom)return;const e=this.chainGetter.getChain(this.chainId).currencies.find(e=>e.coinMinimalDenom===this.queryMintParmas.mintDenom);if(!e)throw new Error("Unknown currency");let t=this.response.data.epoch_provisions;return t.includes(".")&&(t=t.slice(0,t.indexOf("."))),new o.CoinPretty(e,new o.Int(t))}}r([i.computed],a.prototype,"epochProvisions",null),t.ObservableQueryOsmosisEpochProvisions=a},1754:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisMintParmas=void 0;const n=s(65),i=s(5),o=s(20);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/mint/v1beta1/params"),i.makeObservable(this)}get mintDenom(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.params.mint_denom}get epochIdentifier(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.params.epoch_identifier}get distributionProportions(){return this.response?{staking:new o.Dec(this.response.data.params.distribution_proportions.staking),poolIncentives:new o.Dec(this.response.data.params.distribution_proportions.pool_incentives),developerRewards:new o.Dec(this.response.data.params.distribution_proportions.developer_rewards)}:{staking:new o.Dec(0),poolIncentives:new o.Dec(0),developerRewards:new o.Dec(0)}}}r([i.computed],a.prototype,"distributionProportions",null),t.ObservableQueryOsmosisMintParmas=a},1755:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1756),t)},1756:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDistributionParams=void 0;const n=s(65),i=s(5),o=s(20);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/distribution/v1beta1/params"),i.makeObservable(this)}get communityTax(){return this.response?new o.RatePretty(this.response.data.params.community_tax):new o.RatePretty(0)}}r([i.computed],a.prototype,"communityTax",null),t.ObservableQueryDistributionParams=a},1757:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryRPCStatus=void 0;const r=s(1758),n=s(20);class i extends r.ObservableChainQueryRPC{constructor(e,t,s){super(e,t,s,"/status")}get network(){if(this.response)return"result"in this.response.data?this.response.data.result.node_info.network:this.response.data.node_info.network}get latestBlockHeight(){if(this.response)return"result"in this.response.data?new n.Int(this.response.data.result.sync_info.latest_block_height):new n.Int(this.response.data.sync_info.latest_block_height)}}t.ObservableQueryRPCStatus=i},1758:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableChainQueryRPCMap=t.ObservableChainQueryRPC=void 0;const i=s(122),o=n(s(89)),a=s(5),c=s(122);class l extends i.ObservableQuery{constructor(e,t,s,r){const n=s.getChain(t);super(e,o.default.create(Object.assign({baseURL:n.rpc},n.rpcConfig)),r),this._chainId=t,this.chainGetter=s}get instance(){const e=this.chainGetter.getChain(this.chainId);return o.default.create(Object.assign({baseURL:e.rpc},e.rpcConfig))}get chainId(){return this._chainId}}r([a.override],l.prototype,"instance",null),t.ObservableChainQueryRPC=l;class u extends c.HasMapStore{constructor(e,t,s,r){super(r),this.kvStore=e,this.chainId=t,this.chainGetter=s}}t.ObservableChainQueryRPCMap=u},1759:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1760),t)},1760:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryJunoAnnualProvisions=void 0;const n=s(65),i=s(5),o=s(20);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/mint/v1beta1/annual_provisions"),i.makeObservable(this)}get annualProvisions(){if(!this.response)return;const e=this.chainGetter.getChain(this.chainId);return new o.CoinPretty(e.stakeCurrency,new o.Dec(this.response.data.annual_provisions))}get annualProvisionsRaw(){if(this.response)return new o.Dec(this.response.data.annual_provisions)}}r([i.computed],a.prototype,"annualProvisions",null),r([i.computed],a.prototype,"annualProvisionsRaw",null),t.ObservableQueryJunoAnnualProvisions=a},1761:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1762),t),n(s(1763),t),n(s(1764),t)},1762:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStrideEpochProvisions=void 0;const n=s(20),i=s(5),o=s(65);class a extends o.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/mint/v1beta1/epoch_provisions"),i.makeObservable(this)}get epochProvisions(){const e=this.chainGetter.getChain(this.chainId);if(!this.response)return new n.CoinPretty(e.stakeCurrency,new n.Int(0));let t=this.response.data.epoch_provisions;return t.includes(".")&&(t=t.slice(0,t.indexOf("."))),new n.CoinPretty(e.stakeCurrency,new n.Int(t))}}r([i.computed],a.prototype,"epochProvisions",null),t.ObservableQueryStrideEpochProvisions=a},1763:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStrideMintParams=void 0;const n=s(20),i=s(5),o=s(65);class a extends o.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/mint/v1beta1/params"),i.makeObservable(this)}get mintDenom(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.params.mint_denom}get distributionProportions(){return this.response?{staking:new n.Dec(this.response.data.params.distribution_proportions.staking),communityPoolGrowth:new n.Dec(this.response.data.params.distribution_proportions.community_pool_growth),communityPoolSecurityBudget:new n.Dec(this.response.data.params.distribution_proportions.community_pool_security_budget),strategicReserve:new n.Dec(this.response.data.params.distribution_proportions.strategic_reserve)}:{staking:new n.Dec(0),communityPoolGrowth:new n.Dec(0),communityPoolSecurityBudget:new n.Dec(0),strategicReserve:new n.Dec(0)}}}r([i.computed],a.prototype,"distributionProportions",null),t.ObservableQueryStrideMintParams=a},1764:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1765:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmWasm=void 0,i(s(909),t),t.CosmWasm=o(s(1766)),i(s(1767),t)},1766:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1767:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmwasmQueriesImpl=t.CosmwasmQueries=void 0;const r=s(1768),n=s(909);t.CosmwasmQueries={use:()=>(e,t,s,r)=>({cosmwasm:new i(e,t,s,r)})};class i{constructor(e,t,s,i){e.queryBalances.addBalanceRegistry(new n.ObservableQueryCw20BalanceRegistry(t)),this.querycw20ContractInfo=new r.ObservableQueryCw20ContractInfo(t,s,i)}}t.CosmwasmQueriesImpl=i},1768:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCw20ContractInfo=t.ObservableQueryCw20ContactInfoInner=void 0;const n=s(65),i=s(5),o=s(613);class a extends o.ObservableCosmwasmContractChainQuery{constructor(e,t,s,r){super(e,t,s,r,{token_info:{}}),this.contractAddress=r}get tokenInfo(){if(this.response&&this.response.data)return this.response.data}}r([i.computed],a.prototype,"tokenInfo",null),t.ObservableQueryCw20ContactInfoInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryContract(e){return this.get(e)}}t.ObservableQueryCw20ContractInfo=c},1769:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretWasm=void 0,i(s(910),t),i(s(911),t),i(s(913),t),t.SecretWasm=o(s(1770)),i(s(1771),t)},1770:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1771:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecretQueriesImpl=t.SecretQueries=void 0;const r=s(910),n=s(1772),i=s(911);t.SecretQueries={use:e=>(t,s,r,n)=>({secret:new o(t,s,r,n,e.apiGetter)})};class o{constructor(e,t,s,o,a){this.querySecretContractCodeHash=new r.ObservableQuerySecretContractCodeHash(t,s,o),e.queryBalances.addBalanceRegistry(new i.ObservableQuerySecret20BalanceRegistry(t,a,this.querySecretContractCodeHash)),this.querySecret20ContractInfo=new n.ObservableQuerySecret20ContractInfo(t,s,o,a,this.querySecretContractCodeHash)}}t.SecretQueriesImpl=o},1772:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecret20ContractInfo=t.ObservableQuerySecret20ContactInfoInner=void 0;const n=s(65),i=s(5),o=s(912);class a extends o.ObservableSecretContractChainQuery{constructor(e,t,s,r,n,o){super(e,t,s,r,n,{token_info:{}},o),this.apiGetter=r,this.contractAddress=n,this.querySecretContractCodeHash=o,i.makeObservable(this)}get error(){return super.error||this.querySecretContractCodeHash.getQueryContract(this.contractAddress).error}get tokenInfo(){if(this.response)return this.response.data.token_info}}r([i.computed],a.prototype,"tokenInfo",null),t.ObservableQuerySecret20ContactInfoInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s,r,n){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,this.apiGetter,e,n)),this.kvStore=e,this.chainId=t,this.chainGetter=s,this.apiGetter=r,this.querySecretContractCodeHash=n}getQueryContract(e){return this.get(e)}}t.ObservableQuerySecret20ContractInfo=c},1773:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TxFeesBaseDenom=t.TxFeesSpotPriceByDenom=t.TxFeesFeeTokens=void 0,i(s(914),t),i(s(915),t),i(s(916),t),t.TxFeesFeeTokens=o(s(1774)),t.TxFeesSpotPriceByDenom=o(s(1775)),t.TxFeesBaseDenom=o(s(1776)),i(s(1777),t)},1774:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1775:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1776:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1777:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OsmosisQueriesImpl=t.OsmosisQueries=void 0;const r=s(914),n=s(915),i=s(916);t.OsmosisQueries={use:()=>(e,t,s,r)=>({osmosis:new o(e,t,s,r)})};class o{constructor(e,t,s,o){this.queryTxFeesFeeTokens=new r.ObservableQueryTxFeesFeeTokens(t,s,o),this.queryTxFeesSpotPriceByDenom=new n.ObservableQueryTxFeesSpotPriceByDenom(t,s,o),this.queryTxFeesBaseDenom=new i.ObservableQueryTxFeesBaseDenom(t,s,o)}}t.OsmosisQueriesImpl=o},1778:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0,i(s(917),t),i(s(1779),t),t.ICNS=o(s(1780))},1779:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNSQueriesImpl=t.ICNSQueries=void 0;const r=s(917);t.ICNSQueries={use:()=>(e,t,s,r)=>({icns:new n(e,t,s,r)})};class n{constructor(e,t,s,n){this.queryICNSNames=new r.ObservableQueryICNSNames(t,s,n)}}t.ICNSQueriesImpl=n},1780:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1781:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainStore=t.ChainInfoInner=void 0;const n=s(5),i=s(9),o=s(146);class a{constructor(e){this.unknownDenoms=[],this.registeredCurrencies=[],this.currencyRegistrars=[],this._chainInfo=e,n.makeObservable(this),o.keepAlive(this,"currencyMap")}getCurrencyFromRegistrars(e){for(let t=0;t<this.currencyRegistrars.length;t++){const s=(0,this.currencyRegistrars[t])(e);if(s)return"coinMinimalDenom"in s?[s,!0]:s}}addUnknownCurrencies(...e){for(const t of e){if(this.unknownDenoms.find(e=>e===t))continue;if(this.currencyMap.has(t))continue;this.unknownDenoms.push(t);const e=n.autorun(()=>{const s=this.getCurrencyFromRegistrars(t);if(s){const[r,i]=s;n.runInAction(()=>{if(r){const e=this.unknownDenoms.findIndex(e=>e===t);e>=0&&this.unknownDenoms.splice(e,1),this.addOrReplaceCurrency(r)}i&&e()})}else e()})}}registerCurrencyRegistrar(e){this.currencyRegistrars.push(e)}setChainInfo(e){this._chainInfo=e}get raw(){return this._chainInfo}get chainId(){return this._chainInfo.chainId}get currencies(){return this._chainInfo.currencies.concat(this.registeredCurrencies)}get currencyMap(){const e=new Map;for(const t of this.currencies)e.set(t.coinMinimalDenom,t);return e}addCurrencies(...e){const t=this.currencyMap;for(const s of e)t.has(s.coinMinimalDenom)||this.registeredCurrencies.push(s)}removeCurrencies(...e){const t=new Map;for(const s of e)t.set(s,!0);this.registeredCurrencies=this.registeredCurrencies.filter(e=>!t.get(e.coinMinimalDenom))}findCurrency(e){return this.currencyMap.has(e)?this.currencyMap.get(e):(this.addUnknownCurrencies(e),this.currencyMap.has(e)?this.currencyMap.get(e):void 0)}forceFindCurrency(e){const t=this.findCurrency(e);return t||{coinMinimalDenom:e,coinDenom:e,coinDecimals:0}}addOrReplaceCurrency(e){if(this.currencyMap.has(e.coinMinimalDenom)){const t=this.registeredCurrencies.findIndex(t=>t.coinMinimalDenom===e.coinMinimalDenom);t>=0&&this.registeredCurrencies.splice(t,1,e)}else this.registeredCurrencies.push(e)}get stakeCurrency(){return this.raw.stakeCurrency}get alternativeBIP44s(){return this.raw.alternativeBIP44s}get bech32Config(){return this.raw.bech32Config}get beta(){return this.raw.beta}get bip44(){return this.raw.bip44}get chainName(){return this.raw.chainName}get coinType(){return this.raw.coinType}get features(){return this.raw.features}get feeCurrencies(){return this.raw.feeCurrencies}get rest(){return this.raw.rest}get restConfig(){return this.raw.restConfig}get rpc(){return this.raw.rpc}get rpcConfig(){return this.raw.rpcConfig}get walletUrl(){return this.raw.walletUrl}get walletUrlForStaking(){return this.raw.walletUrlForStaking}}r([n.observable.ref],a.prototype,"_chainInfo",void 0),r([n.observable.shallow],a.prototype,"unknownDenoms",void 0),r([n.observable.shallow],a.prototype,"registeredCurrencies",void 0),r([n.observable],a.prototype,"currencyRegistrars",void 0),r([n.action],a.prototype,"addUnknownCurrencies",null),r([n.action],a.prototype,"registerCurrencyRegistrar",null),r([n.action],a.prototype,"setChainInfo",null),r([n.computed],a.prototype,"currencyMap",null),r([n.action],a.prototype,"addCurrencies",null),r([n.action],a.prototype,"removeCurrencies",null),r([n.action],a.prototype,"addOrReplaceCurrency",null),t.ChainInfoInner=a;class c{constructor(e){this.setChainInfoHandlers=[],this._cachedChainInfosMap=new Map,this.setChainInfos(e),n.makeObservable(this)}get chainInfos(){return this._chainInfos}getChain(e){const t=i.ChainIdHelper.parse(e),s=this.chainInfos.find(e=>i.ChainIdHelper.parse(e.chainId).identifier===t.identifier);if(!s)throw new Error("Unknown chain info: "+e);return s}hasChain(e){const t=i.ChainIdHelper.parse(e);return null!=this.chainInfos.find(e=>i.ChainIdHelper.parse(e.chainId).identifier===t.identifier)}addSetChainInfoHandler(e){this.setChainInfoHandlers.push(e);for(const t of this.chainInfos){e(this._cachedChainInfosMap.get(t.chainId))}}setChainInfos(e){const t=[];for(const s of e)if(this._cachedChainInfosMap.has(s.chainId)){const e=this._cachedChainInfosMap.get(s.chainId);e.setChainInfo(s),t.push(e)}else{const e=new a(s);this._cachedChainInfosMap.set(s.chainId,e),t.push(e);for(const t of this.setChainInfoHandlers)t(e)}this._chainInfos=t}}r([n.observable.ref],c.prototype,"_chainInfos",void 0),r([n.action],c.prototype,"setChainInfos",null),t.ChainStore=c},1782:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1783),t),n(s(1791),t),n(s(1792),t)},1783:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1784),t),n(s(1785),t),n(s(1786),t),n(s(1787),t),n(s(1788),t),n(s(1789),t),n(s(1790),t)},1784:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionStore=void 0;const n=s(3),i=s(37),o=s(5);class a{constructor(e,t){this.router=e,this.msgRequester=t,this.datas=new Map,this.events=new Map,o.makeObservable(this);const s=new i.InteractionForegroundService(this);i.interactionForegroundInit(e,s)}getDatas(e){var t;return null!==(t=o.toJS(this.datas.get(e)))&&void 0!==t?t:[]}getEvents(e){var t;return null!==(t=o.toJS(this.events.get(e)))&&void 0!==t?t:[]}onInteractionDataReceived(e){this.datas.has(e.type)||this.datas.set(e.type,o.observable.array([],{deep:!1})),this.datas.get(e.type).push(e)}onEventDataReceived(e){this.events.has(e.type)||this.events.set(e.type,o.observable.array([],{deep:!1})),this.events.get(e.type).push(e)}*approve(e,t,s){this.removeData(e,t),yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.ApproveInteractionMsg(t,s))}*approveWithoutRemovingData(e,t){yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.ApproveInteractionMsg(e,t))}*reject(e,t){this.removeData(e,t),yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.RejectInteractionMsg(t))}*rejectAll(e){const t=this.getDatas(e);for(const e of t)yield this.reject(e.type,e.id)}removeData(e,t){if(this.datas.has(e)){const s=this.datas.get(e).find(e=>e.id===t);s&&this.datas.get(e).remove(s)}}clearEvent(e){this.events.has(e)&&this.events.get(e).length>0&&this.events.set(e,o.observable.array([],{deep:!1}))}}r([o.observable.shallow],a.prototype,"datas",void 0),r([o.observable.shallow],a.prototype,"events",void 0),r([o.action],a.prototype,"onInteractionDataReceived",null),r([o.action],a.prototype,"onEventDataReceived",null),r([o.flow],a.prototype,"approve",null),r([o.flow],a.prototype,"approveWithoutRemovingData",null),r([o.flow],a.prototype,"reject",null),r([o.flow],a.prototype,"rejectAll",null),r([o.action],a.prototype,"removeData",null),r([o.action],a.prototype,"clearEvent",null),t.InteractionStore=a},1785:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralPermissionStore=t.PermissionStore=t.BasicAccessPermissionInnerStore=t.Secret20ViewingKeyPermissionInnerStore=void 0;const i=s(37),o=s(5),a=s(122),c=s(3),l=s(21);class u{constructor(e,t,s){this.chainId=e,this.contractAddress=t,this.requester=s,this._origins=[],o.makeObservable(this),this.refreshOrigins()}get origins(){return this._origins}*removeOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.RemovePermissionOrigin(this.chainId,i.getSecret20ViewingKeyPermissionType(this.contractAddress),e)),yield this.refreshOrigins()}*refreshOrigins(){this._origins=yield*l.toGenerator(this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetPermissionOriginsMsg(this.chainId,i.getSecret20ViewingKeyPermissionType(this.contractAddress))))}}r([o.observable.ref],u.prototype,"_origins",void 0),r([o.flow],u.prototype,"removeOrigin",null),r([o.flow],u.prototype,"refreshOrigins",null),t.Secret20ViewingKeyPermissionInnerStore=u;class h{constructor(e,t){this.chainId=e,this.requester=t,this._origins=[],o.makeObservable(this),this.refreshOrigins()}get origins(){return this._origins}*addOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.AddPermissionOrigin(this.chainId,i.getBasicAccessPermissionType(),e)),yield this.refreshOrigins()}*removeOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.RemovePermissionOrigin(this.chainId,i.getBasicAccessPermissionType(),e)),yield this.refreshOrigins()}*refreshOrigins(){this._origins=yield*l.toGenerator(this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetPermissionOriginsMsg(this.chainId,i.getBasicAccessPermissionType())))}}r([o.observable.ref],h.prototype,"_origins",void 0),r([o.flow],h.prototype,"addOrigin",null),r([o.flow],h.prototype,"removeOrigin",null),r([o.flow],h.prototype,"refreshOrigins",null),t.BasicAccessPermissionInnerStore=h;class d extends a.HasMapStore{constructor(e,t){super(e=>{const t=JSON.parse(e);return"basicAccess"===t.type?new h(t.chainId,this.requester):new u(t.chainId,t.contractAddress,this.requester)}),this.interactionStore=e,this.requester=t,this._isLoading=!1,o.makeObservable(this)}getBasicAccessInfo(e){const t=JSON.stringify({type:"basicAccess",chainId:e,contractAddress:""});return this.get(t)}getOriginPermittedChains(e,t){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetOriginPermittedChainsMsg(e,t))}))}getSecret20ViewingKeyAccessInfo(e,t){const s=JSON.stringify({type:"viewingKey",chainId:e,contractAddress:t});return this.get(s)}get waitingBasicAccessPermissions(){const e=this.waitingDatas,t=[];for(const s of e)i.isBasicAccessPermissionType(s.data.type)&&t.push({id:s.id,data:{chainIds:s.data.chainIds,origins:s.data.origins}});return t}get waitingSecret20ViewingKeyAccessPermissions(){const e=this.waitingDatas,t=[];for(const s of e)i.isSecret20ViewingKeyPermissionType(s.data.type)&&t.push({id:s.id,data:{chainIds:s.data.chainIds,contractAddress:i.splitSecret20ViewingKeyPermissionType(s.data.type),origins:s.data.origins}});return t}get waitingDatas(){return this.interactionStore.getDatas(i.INTERACTION_TYPE_PERMISSION)}*approve(e){this._isLoading=!0;try{yield this.interactionStore.approve(i.INTERACTION_TYPE_PERMISSION,e,{})}finally{this._isLoading=!1}}*reject(e){this._isLoading=!0;try{yield this.interactionStore.reject(i.INTERACTION_TYPE_PERMISSION,e)}finally{this._isLoading=!1}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(i.INTERACTION_TYPE_PERMISSION)}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([o.observable],d.prototype,"_isLoading",void 0),r([o.computed],d.prototype,"waitingBasicAccessPermissions",null),r([o.computed],d.prototype,"waitingSecret20ViewingKeyAccessPermissions",null),r([o.flow],d.prototype,"approve",null),r([o.flow],d.prototype,"reject",null),r([o.flow],d.prototype,"rejectAll",null),t.PermissionStore=d;class p{constructor(e,t){this.interactionStore=e,this.requester=t,this._isLoading=!1,o.makeObservable(this)}getOriginPermittedChains(e,t){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetOriginPermittedChainsMsg(e,t))}))}get allWaitingPermissions(){return this.interactionStore.getDatas(i.INTERACTION_TYPE_PERMISSION)}get allWaitingGlobalPermissions(){return this.interactionStore.getDatas(i.INTERACTION_TYPE_GLOBAL_PERMISSION)}getWaitingGlobalPermissions(e){return this.interactionStore.getDatas(i.INTERACTION_TYPE_GLOBAL_PERMISSION).filter(t=>t.data.type===e)}getWaitingPermissions(e){return this.interactionStore.getDatas(i.INTERACTION_TYPE_PERMISSION).filter(t=>t.data.type===e)}*approvePermission(e){this._isLoading=!0;try{yield this.interactionStore.approve(i.INTERACTION_TYPE_PERMISSION,e,{})}finally{this._isLoading=!1}}*rejectPermission(e){this._isLoading=!0;try{yield this.interactionStore.reject(i.INTERACTION_TYPE_PERMISSION,e)}finally{this._isLoading=!1}}*rejectAllPermission(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(i.INTERACTION_TYPE_PERMISSION)}finally{this._isLoading=!1}}*approveGlobalPermission(e){this._isLoading=!0;try{yield this.interactionStore.approve(i.INTERACTION_TYPE_GLOBAL_PERMISSION,e,{})}finally{this._isLoading=!1}}*rejectGlobalPermission(e){this._isLoading=!0;try{yield this.interactionStore.reject(i.INTERACTION_TYPE_GLOBAL_PERMISSION,e)}finally{this._isLoading=!1}}*rejectAllGlobalPermission(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(i.INTERACTION_TYPE_GLOBAL_PERMISSION)}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([o.observable],p.prototype,"_isLoading",void 0),r([o.flow],p.prototype,"approvePermission",null),r([o.flow],p.prototype,"rejectPermission",null),r([o.flow],p.prototype,"rejectAllPermission",null),r([o.flow],p.prototype,"approveGlobalPermission",null),r([o.flow],p.prototype,"rejectGlobalPermission",null),r([o.flow],p.prototype,"rejectAllGlobalPermission",null),t.GeneralPermissionStore=p},1786:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.SignInteractionStore=void 0;const n=s(5),i=s(9);class o{constructor(e){this.interactionStore=e,this._isLoading=!1,n.makeObservable(this),n.autorun(()=>{const e=this.waitingDatas.slice();if(e.length>1)for(let t=1;t<e.length;t++)this.rejectWithId(e[t].id)})}get waitingDatas(){return this.interactionStore.getDatas("request-sign")}get waitingData(){const e=this.waitingDatas;if(0===e.length)return;const t=e[0],s="amino"===t.data.mode?i.SignDocWrapper.fromAminoSignDoc(t.data.signDoc):i.SignDocWrapper.fromDirectSignDocBytes(t.data.signDocBytes);return{id:t.id,type:t.type,isInternal:t.isInternal,data:{chainId:t.data.chainId,msgOrigin:t.data.msgOrigin,signer:t.data.signer,signDocWrapper:s,signOptions:t.data.signOptions,isADR36WithString:"isADR36WithString"in t.data?t.data.isADR36WithString:void 0,ethSignType:"ethSignType"in t.data?t.data.ethSignType:void 0}}}isEnded(){return this.interactionStore.getEvents("request-sign-end").length>0}clearEnded(){this.interactionStore.clearEvent("request-sign-end")}waitEnd(){return this.isEnded()?Promise.resolve():new Promise(e=>{const t=n.autorun(()=>{this.isEnded()&&(e(),this.clearEnded(),t())})})}*approveAndWaitEnd(e){if(0===this.waitingDatas.length)return;this._isLoading=!0;const t=this.waitingDatas[0].id;try{const s="amino"===e.mode?e.aminoSignDoc:e.protoSignDoc.toBytes();yield this.interactionStore.approveWithoutRemovingData(t,s)}finally{yield this.waitEnd(),this.interactionStore.removeData("request-sign",t),this._isLoading=!1}}*reject(){if(0!==this.waitingDatas.length){this._isLoading=!0;try{yield this.interactionStore.reject("request-sign",this.waitingDatas[0].id)}finally{this._isLoading=!1}}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll("request-sign")}finally{this._isLoading=!1}}*rejectWithId(e){yield this.interactionStore.reject("request-sign",e)}get isLoading(){return this._isLoading}}r([n.observable],o.prototype,"_isLoading",void 0),r([n.computed],o.prototype,"waitingData",null),r([n.flow],o.prototype,"approveAndWaitEnd",null),r([n.flow],o.prototype,"reject",null),r([n.flow],o.prototype,"rejectAll",null),r([n.flow],o.prototype,"rejectWithId",null),t.SignInteractionStore=o},1787:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerInitStore=void 0;const n=s(5),i=s(3),o=s(37),a=s(21);class c{constructor(e,t){this.interactionStore=e,this.msgRequester=t,this._isLoading=!1,this._isWebHID=!1,n.makeObservable(this),this.fetchIsWebHID()}*fetchIsWebHID(){this._isWebHID=yield*a.toGenerator(this.msgRequester.sendMessage(i.BACKGROUND_PORT,new o.LedgerGetWebHIDFlagMsg))}*setWebHID(e){yield this.msgRequester.sendMessage(i.BACKGROUND_PORT,new o.LedgerSetWebHIDFlagMsg(e)),yield this.fetchIsWebHID()}get isWebHID(){return this._isWebHID}get isGetPubKeySucceeded(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("get-pubkey"===t.data.event&&t.data.success)return!0;return!1}get isSignCompleted(){return this.isSignSucceeded||this.isSignRejected}get isSignSucceeded(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("sign"===t.data.event&&t.data.success)return!0;return!1}get isSignRejected(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("sign"===t.data.event&&!t.data.success)return!0;return!1}get isInitAborted(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("init-aborted"===t.data.event)return!0;return!1}get isInitNeeded(){const e=this.interactionStore.getDatas("ledger-init");for(const t of e)if("init-failed"===t.data.event)return!0;return!1}get requestedLedgerApp(){if(!this.isInitNeeded)return;const e=this.interactionStore.getDatas("ledger-init");for(const t of e)if("init-failed"===t.data.event)return t.data.ledgerApp}get cosmosLikeApp(){if(!this.isInitNeeded)return;const e=this.interactionStore.getDatas("ledger-init");for(const t of e)if("init-failed"===t.data.event)return t.data.cosmosLikeApp}*resume(...e){this._isLoading=!0;try{const t=this.interactionStore.getDatas("ledger-init");for(const s of t)if("init-failed"===s.data.event){yield this.interactionStore.approve("ledger-init",s.id,{initArgs:e});break}}finally{this._isLoading=!1}}*resumeAll(...e){this._isLoading=!0;try{const t=this.interactionStore.getDatas("ledger-init");for(const s of t)"init-failed"===s.data.event&&(yield this.interactionStore.approve("ledger-init",s.id,{initArgs:e}))}finally{this._isLoading=!1}}*abort(){this._isLoading=!0;try{const e=this.interactionStore.getDatas("ledger-init");for(const t of e)if("init-failed"===t.data.event){yield this.interactionStore.approve("ledger-init",t.id,{abort:!0});break}}finally{this._isLoading=!1}}*abortAll(){this._isLoading=!0;try{const e=this.interactionStore.getDatas("ledger-init");for(const t of e)"init-failed"===t.data.event&&(yield this.interactionStore.approve("ledger-init",t.id,{abort:!0}))}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([n.observable],c.prototype,"_isLoading",void 0),r([n.observable],c.prototype,"_isWebHID",void 0),r([n.flow],c.prototype,"fetchIsWebHID",null),r([n.flow],c.prototype,"setWebHID",null),r([n.computed],c.prototype,"isGetPubKeySucceeded",null),r([n.computed],c.prototype,"isSignCompleted",null),r([n.computed],c.prototype,"isSignSucceeded",null),r([n.computed],c.prototype,"isSignRejected",null),r([n.computed],c.prototype,"isInitAborted",null),r([n.computed],c.prototype,"isInitNeeded",null),r([n.computed],c.prototype,"requestedLedgerApp",null),r([n.computed],c.prototype,"cosmosLikeApp",null),r([n.flow],c.prototype,"resume",null),r([n.flow],c.prototype,"resumeAll",null),r([n.flow],c.prototype,"abort",null),r([n.flow],c.prototype,"abortAll",null),t.LedgerInitStore=c},1788:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.KeystoneStore=void 0;const n=s(5),i=s(37);class o{constructor(e){this.interactionStore=e,n.makeObservable(this)}*rejectGetPubkey(){yield this.interactionStore.rejectAll(i.TYPE_KEYSTONE_GET_PUBKEY)}*resolveGetPubkey(e){const t=this.interactionStore.getDatas(i.TYPE_KEYSTONE_GET_PUBKEY);0!==t.length&&(yield this.interactionStore.approve(i.TYPE_KEYSTONE_GET_PUBKEY,t[0].id,e))}*rejectSign(){yield this.interactionStore.rejectAll(i.TYPE_KEYSTONE_SIGN)}*resolveSign(e){const t=this.interactionStore.getDatas(i.TYPE_KEYSTONE_SIGN);0!==t.length&&(yield this.interactionStore.approve(i.TYPE_KEYSTONE_SIGN,t[0].id,e))}get signData(){const e=this.interactionStore.getDatas(i.TYPE_KEYSTONE_SIGN);if(0!==e.length)return e[0]}}r([n.flow],o.prototype,"rejectGetPubkey",null),r([n.flow],o.prototype,"resolveGetPubkey",null),r([n.flow],o.prototype,"rejectSign",null),r([n.flow],o.prototype,"resolveSign",null),r([n.computed],o.prototype,"signData",null),t.KeystoneStore=o},1789:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainSuggestStore=void 0;const i=s(37),o=s(5),a=s(9),c=n(s(89)),l=s(21);class u{constructor(e,t){this.interactionStore=e,this.communityChainInfoRepo=t,this._isLoading=!1,this.communityChainInfo=new Map,o.makeObservable(this)}get waitingSuggestedChainInfo(){const e=this.interactionStore.getDatas(i.SuggestChainInfoMsg.type());if(e.length>0)return e[0]}get communityChainInfoRepoUrl(){return`https://github.com/${this.communityChainInfoRepo.organizationName}/${this.communityChainInfoRepo.repoName}`}getCommunityChainInfoUrl(e){const t=a.ChainIdHelper.parse(e);return`${this.communityChainInfoRepoUrl}/blob/${this.communityChainInfoRepo.branchName}/cosmos/${t.identifier}.json`}getCommunityChainInfo(e){const t=a.ChainIdHelper.parse(e).identifier;return this.communityChainInfo.has(t)||this.fetchCommunityChainInfo(e),this.communityChainInfo.get(t)}*fetchCommunityChainInfo(e){const t=a.ChainIdHelper.parse(e).identifier;if(!this.communityChainInfo.get(t)){this.communityChainInfo.set(t,{isLoading:!0,chainInfo:void 0});try{const e=yield*l.toGenerator(c.default.get(`/cosmos/${t}.json`,{baseURL:`https://raw.githubusercontent.com/${this.communityChainInfoRepo.organizationName}/${this.communityChainInfoRepo.repoName}/${this.communityChainInfoRepo.branchName}`}));if(a.ChainIdHelper.parse(e.data.chainId).identifier!==t)throw new Error(`Invalid chain identifier: (expected: ${t}, actual: ${a.ChainIdHelper.parse(e.data.chainId).identifier})`);this.communityChainInfo.set(t,{isLoading:!1,chainInfo:e.data})}catch(e){console.log(e),this.communityChainInfo.set(t,{isLoading:!1,chainInfo:void 0})}}}*approve(e){this._isLoading=!0;try{const t=this.waitingSuggestedChainInfo;t&&(yield this.interactionStore.approve(t.type,t.id,e))}finally{this._isLoading=!1}}*reject(){this._isLoading=!0;try{const e=this.waitingSuggestedChainInfo;e&&(yield this.interactionStore.reject(e.type,e.id))}finally{this._isLoading=!1}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(i.SuggestChainInfoMsg.type())}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([o.observable],u.prototype,"_isLoading",void 0),r([o.observable.shallow],u.prototype,"communityChainInfo",void 0),r([o.flow],u.prototype,"fetchCommunityChainInfo",null),r([o.flow],u.prototype,"approve",null),r([o.flow],u.prototype,"reject",null),r([o.flow],u.prototype,"rejectAll",null),t.ChainSuggestStore=u},1790:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ICNSInteractionStore=void 0;const n=s(5),i=s(37);class o{constructor(e){this.interactionStore=e,this._isLoading=!1,n.makeObservable(this)}get waitingDatas(){return this.interactionStore.getDatas(i.RequestICNSAdr36SignaturesMsg.type())}get waitingData(){const e=this.waitingDatas;if(0!==e.length)return e[0]}*approve(e){this._isLoading=!0;try{yield this.interactionStore.approve(i.RequestICNSAdr36SignaturesMsg.type(),e,{})}finally{this._isLoading=!1}}*reject(e){this._isLoading=!0;try{yield this.interactionStore.reject(i.RequestICNSAdr36SignaturesMsg.type(),e)}finally{this._isLoading=!1}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(i.RequestICNSAdr36SignaturesMsg.type())}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([n.observable],o.prototype,"_isLoading",void 0),r([n.computed],o.prototype,"waitingData",null),r([n.flow],o.prototype,"approve",null),r([n.flow],o.prototype,"reject",null),r([n.flow],o.prototype,"rejectAll",null),t.ICNSInteractionStore=o},1791:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingStore=t.KeyRingSelectablesStore=void 0;const i=s(3),o=s(37),a=s(5),c=s(21);class l{constructor(e,t,s,r){this.chainGetter=e,this.requester=t,this.chainId=s,this.keyRingStore=r,this.isInitializing=!1,this._isKeyStoreCoinTypeSet=!1,this._selectables=[],a.makeObservable(this),this.refresh()}get needSelectCoinType(){const e=this.chainGetter.getChain(this.chainId);return!(!e.alternativeBIP44s||0===e.alternativeBIP44s.length)&&(!this.isInitializing&&!this._isKeyStoreCoinTypeSet)}get selectables(){return this._selectables}*refresh(){var e;if("mnemonic"!==this.keyRingStore.keyRingType)return this.isInitializing=!1,this._isKeyStoreCoinTypeSet=!0,void(this._selectables=[]);this.isInitializing=!0;const t=this.chainGetter.getChain(this.chainId),s=new o.GetIsKeyStoreCoinTypeSetMsg(this.chainId,[t.bip44,...null!==(e=t.alternativeBIP44s)&&void 0!==e?e:[]]),r=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,s));0===r.length?this._isKeyStoreCoinTypeSet=!0:1===r.length?(yield this.keyRingStore.setKeyStoreCoinType(this.chainId,r[0].path.coinType),this._isKeyStoreCoinTypeSet=!0):(this._selectables=r,this._isKeyStoreCoinTypeSet=!1),this.isInitializing=!1}}r([a.observable],l.prototype,"isInitializing",void 0),r([a.observable],l.prototype,"_isKeyStoreCoinTypeSet",void 0),r([a.observable.ref],l.prototype,"_selectables",void 0),r([a.computed],l.prototype,"needSelectCoinType",null),r([a.flow],l.prototype,"refresh",null),t.KeyRingSelectablesStore=l;class u{constructor(e,t,s,r,n){this.eventDispatcher=e,this.defaultKdf=t,this.chainGetter=s,this.requester=r,this.interactionStore=n,this.status=o.KeyRingStatus.NOTLOADED,this.multiKeyStoreInfo=[],this.selectablesMap=new Map,this.keyStoreChangedListeners=[],a.makeObservable(this),this.restore()}get waitingNameData(){const e=this.interactionStore.getDatas("change-keyring-name");if(e.length>0)return e[0]}get keyRingType(){const e=this.multiKeyStoreInfo.find(e=>e.selected);return e?o.KeyRing.getTypeOfKeyStore(e):"none"}*approveChangeName(e){const t=this.interactionStore.getDatas("change-keyring-name")[0];yield this.interactionStore.approve("change-keyring-name",t.id,e),this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}*createMnemonicKey(e,t,s,r,n=this.defaultKdf){const a=new o.CreateMnemonicKeyMsg(n,e,t,s,r),l=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,a));this.status=l.status,this.multiKeyStoreInfo=l.multiKeyStoreInfo}*createPrivateKey(e,t,s,r=this.defaultKdf){const n=new o.CreatePrivateKeyMsg(r,e,t,s),a=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n));this.status=a.status,this.multiKeyStoreInfo=a.multiKeyStoreInfo}*createKeystoneKey(e,t,s,r=this.defaultKdf){const n=new o.CreateKeystoneKeyMsg(r,e,t,s),a=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n));this.status=a.status,this.multiKeyStoreInfo=a.multiKeyStoreInfo}*createLedgerKey(e,t,s,r,n=this.defaultKdf){const a=new o.CreateLedgerKeyMsg(n,e,t,s,r),l=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,a));this.status=l.status,this.multiKeyStoreInfo=l.multiKeyStoreInfo}*addMnemonicKey(e,t,s,r=this.defaultKdf){const n=new o.AddMnemonicKeyMsg(r,e,t,s);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n))).multiKeyStoreInfo}*addPrivateKey(e,t,s=this.defaultKdf){const r=new o.AddPrivateKeyMsg(s,e,t);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,r))).multiKeyStoreInfo}*addKeystoneKey(e,t,s=this.defaultKdf){const r=new o.AddKeystoneKeyMsg(s,e,t);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,r))).multiKeyStoreInfo}*addLedgerKey(e,t,s,r=this.defaultKdf){const n=new o.AddLedgerKeyMsg(r,e,t,s);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n))).multiKeyStoreInfo}*changeKeyRing(e){const t=new o.ChangeKeyRingMsg(e);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,t))).multiKeyStoreInfo,this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}*lock(){const e=new o.LockKeyRingMsg,t=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e));this.status=t.status}*unlock(e){const t=new o.UnlockKeyRingMsg(e),s=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,t));this.status=s.status;for(const e of this.interactionStore.getDatas("unlock"))yield this.interactionStore.approve("unlock",e.id,{});this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}*rejectAll(){yield this.interactionStore.rejectAll("unlock")}*restore(){const e=new o.RestoreKeyRingMsg,t=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e));this.status=t.status,this.multiKeyStoreInfo=t.multiKeyStoreInfo}showKeyRing(e,t){return n(this,void 0,void 0,(function*(){const s=new o.ShowKeyRingMsg(e,t);return yield this.requester.sendMessage(i.BACKGROUND_PORT,s)}))}*deleteKeyRing(e,t){const s=this.multiKeyStoreInfo.findIndex(e=>e.selected),r=new o.DeleteKeyRingMsg(e,t),n=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,r));this.status=n.status,this.multiKeyStoreInfo=n.multiKeyStoreInfo,s===e&&(this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh()))}*updateNameKeyRing(e,t){const s=new o.UpdateNameKeyRingMsg(e,t),r=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,s));this.multiKeyStoreInfo=r.multiKeyStoreInfo;this.multiKeyStoreInfo.findIndex(e=>e.selected)===e&&this.dispatchKeyStoreChangeEvent()}checkPassword(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.CheckPasswordMsg(e))}))}getKeyStoreSelectables(e){return this.selectablesMap.has(e)||a.runInAction(()=>{this.selectablesMap.set(e,new l(this.chainGetter,this.requester,e,this))}),this.selectablesMap.get(e)}*setKeyStoreCoinType(e,t){const s=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,new o.SetKeyStoreCoinTypeMsg(e,t)));this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,new o.GetMultiKeyStoreInfoMsg))).multiKeyStoreInfo,this.status=s,this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}exportKeyRingDatas(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.ExportKeyRingDatasMsg(e))}))}dispatchKeyStoreChangeEvent(){this.eventDispatcher.dispatchEvent("keplr_keystorechange");for(const e of this.keyStoreChangedListeners)e()}addKeyStoreChangedListener(e){this.keyStoreChangedListeners.push(e)}removeKeyStoreChangedListener(e){const t=this.keyStoreChangedListeners.indexOf(e);t>=0&&this.keyStoreChangedListeners.splice(t,1)}}r([a.observable],u.prototype,"status",void 0),r([a.observable],u.prototype,"multiKeyStoreInfo",void 0),r([a.observable.shallow],u.prototype,"selectablesMap",void 0),r([a.computed],u.prototype,"keyRingType",null),r([a.flow],u.prototype,"approveChangeName",null),r([a.flow],u.prototype,"createMnemonicKey",null),r([a.flow],u.prototype,"createPrivateKey",null),r([a.flow],u.prototype,"createKeystoneKey",null),r([a.flow],u.prototype,"createLedgerKey",null),r([a.flow],u.prototype,"addMnemonicKey",null),r([a.flow],u.prototype,"addPrivateKey",null),r([a.flow],u.prototype,"addKeystoneKey",null),r([a.flow],u.prototype,"addLedgerKey",null),r([a.flow],u.prototype,"changeKeyRing",null),r([a.flow],u.prototype,"lock",null),r([a.flow],u.prototype,"unlock",null),r([a.flow],u.prototype,"rejectAll",null),r([a.flow],u.prototype,"restore",null),r([a.flow],u.prototype,"deleteKeyRing",null),r([a.flow],u.prototype,"updateNameKeyRing",null),r([a.flow],u.prototype,"setKeyStoreCoinType",null),t.KeyRingStore=u},1792:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.TokensStore=t.TokensStoreInner=void 0;const n=s(122),i=s(3),o=s(37),a=s(5),c=s(21),l=s(9);class u{constructor(e,t,s,r){this.eventListener=e,this.chainStore=t,this.chainId=s,this.requester=r,this._tokens=[],a.makeObservable(this),this.refreshTokens(),this.eventListener.addEventListener("keplr_keystoreunlock",()=>{this.refreshTokens()}),this.eventListener.addEventListener("keplr_keystorechange",()=>{this.refreshTokens()})}get tokens(){return this._tokens}*refreshTokens(){const e=this.chainStore.getChain(this.chainId);if(e.features&&(e.features.includes("secretwasm")||e.features.includes("cosmwasm"))){const e=new o.GetTokensMsg(this.chainId);this._tokens=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e))}else this._tokens=[]}*addToken(e){const t=new o.AddTokenMsg(this.chainId,e);yield this.requester.sendMessage(i.BACKGROUND_PORT,t),yield this.refreshTokens()}*removeToken(e){const t=new o.RemoveTokenMsg(this.chainId,e);yield this.requester.sendMessage(i.BACKGROUND_PORT,t),yield this.refreshTokens()}}r([a.observable.ref],u.prototype,"_tokens",void 0),r([a.flow],u.prototype,"refreshTokens",null),r([a.flow],u.prototype,"addToken",null),r([a.flow],u.prototype,"removeToken",null),t.TokensStoreInner=u;class h extends n.HasMapStore{constructor(e,t,s,r){super(e=>new u(this.eventListener,this.chainStore,e,this.requester)),this.eventListener=e,this.chainStore=t,this.requester=s,this.interactionStore=r,this.prevTokens=new Map,a.makeObservable(this),this.chainStore.addSetChainInfoHandler(e=>{a.autorun(()=>{var t;const s=l.ChainIdHelper.parse(e.chainId),r=null!==(t=this.prevTokens.get(s.identifier))&&void 0!==t?t:[];e.removeCurrencies(...r.map(e=>e.coinMinimalDenom));const n=this.getTokensOf(e.chainId);e.addCurrencies(...n.tokens),this.prevTokens.set(s.identifier,n.tokens)})})}getTokensOf(e){return this.get(e)}get waitingSuggestedToken(){const e=this.interactionStore.getDatas(o.SuggestTokenMsg.type());if(e.length>0)return e[0]}*approveSuggestedToken(e){const t=this.waitingSuggestedToken;t&&(yield this.interactionStore.approve(o.SuggestTokenMsg.type(),t.id,e),yield this.getTokensOf(t.data.chainId).refreshTokens())}*rejectSuggestedToken(){const e=this.waitingSuggestedToken;e&&(yield this.interactionStore.reject(o.SuggestTokenMsg.type(),e.id))}*rejectAllSuggestedTokens(){yield this.interactionStore.rejectAll(o.SuggestTokenMsg.type())}}r([a.flow],h.prototype,"approveSuggestedToken",null),r([a.flow],h.prototype,"rejectSuggestedToken",null),r([a.flow],h.prototype,"rejectAllSuggestedTokens",null),t.TokensStore=h},1793:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1794),t),n(s(1795),t)},1794:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IBCChannelStore=t.IBCChannelStoreInner=void 0;const i=s(21),o=s(5),a=s(146),c=s(122),l=s(9);class u{constructor(e,t){this.kvStore=e,this.chainId=t,this.channelMap=new Map,this.getChannelsToPort=a.computedFn(e=>{this.channelMap.has(e)||o.runInAction(()=>{this.channelMap.set(e,o.observable.map({},{deep:!1}))});const t=this.channelMap.get(e),s=[];for(const e of t.values())s.push(e);return s}),this.getChannel=a.computedFn((e,t)=>{var s;return null===(s=this.channelMap.get(e))||void 0===s?void 0:s.get(t)}),o.makeObservable(this),this.loadChannels()}getTransferChannels(){return this.getChannelsToPort("transfer")}*addChannel(e){this.channelMap.has(e.portId)||this.channelMap.set(e.portId,o.observable.map({},{deep:!1})),this.channelMap.get(e.portId).set(e.channelId,e),yield this.saveChannels()}*loadChannels(){const e=yield*i.toGenerator(this.kvStore.get(l.ChainIdHelper.parse(this.chainId).identifier+"-channels"));if(e)for(const t of Object.keys(e)){const s=e[t];for(const e of Object.keys(s)){this.channelMap.has(t)||this.channelMap.set(t,o.observable.map({},{deep:!1}));this.channelMap.get(t).set(e,s[e])}}}saveChannels(){return n(this,void 0,void 0,(function*(){const e={};this.channelMap.forEach((t,s)=>{e[s]=(()=>{const e={};return t.forEach((t,s)=>{e[s]=t}),e})()}),yield this.kvStore.set(l.ChainIdHelper.parse(this.chainId).identifier+"-channels",e)}))}}r([o.observable.shallow],u.prototype,"channelMap",void 0),r([o.flow],u.prototype,"addChannel",null),r([o.flow],u.prototype,"loadChannels",null),t.IBCChannelStoreInner=u;class h extends c.HasMapStore{constructor(e){super(t=>new u(e,t)),this.kvStore=e}get(e){return super.get(e)}}t.IBCChannelStore=h},1795:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.IBCCurrencyRegsitrar=t.IBCCurrencyRegsitrarInner=void 0;const n=s(5),i=s(21);class o{constructor(e,t,s,r,i,o,a,c){this.kvStore=e,this.cacheDuration=t,this.chainInfoInner=s,this.chainStore=r,this.accountStore=i,this.queriesStore=o,this.cosmwasmQueriesStore=a,this.coinDenomGenerator=c,this.isInitialized=!1,this.isInitializing=!1,this.cacheDenomTracePaths=new Map,n.makeObservable(this)}*restoreCache(){this.isInitializing=!0;const e="cache-ibc-denom-trace-paths/"+this.chainInfoInner.chainId,t=yield*i.toGenerator(this.kvStore.get(e));if(t)for(const e of Object.keys(t))this.cacheDenomTracePaths.set(e,t[e]);this.isInitialized=!0,this.isInitializing=!1}getCacheIBCDenomData(e){const t=this.cacheDenomTracePaths.get(e);if(t&&t.timestamp+this.cacheDuration>Date.now())return t}*setCacheIBCDenomData(e,t){this.cacheDenomTracePaths.set(e,Object.assign(Object.assign({},t),{timestamp:Date.now()}));const s={};this.cacheDenomTracePaths.forEach((e,t)=>{s[t]=e});const r="cache-ibc-denom-trace-paths/"+this.chainInfoInner.chainId;yield this.kvStore.set(r,s)}registerUnknownCurrencies(e){const t=new i.DenomHelper(e);if("native"!==t.type||!t.denom.startsWith("ibc/"))return;if(this.isInitialized||this.restoreCache(),this.isInitializing)return[void 0,!1];const s=this.queriesStore.get(this.chainInfoInner.chainId),r=t.denom.replace("ibc/",""),n=this.getCacheIBCDenomData(r);let o,a,c;if(n)c=n.denomTrace,n.originChainId&&this.chainStore.hasChain(n.originChainId)&&(a=this.chainStore.getChain(n.originChainId)),n.counterpartyChainId&&this.chainStore.hasChain(n.counterpartyChainId)&&(o=this.chainStore.getChain(n.counterpartyChainId));else{const e=s.cosmos.queryIBCDenomTrace.getDenomTrace(r);if(c=e.denomTrace,c){const e=c.paths;let t=this.chainInfoInner.chainId;for(const s of e){const e=this.queriesStore.get(t).cosmos.queryIBCClientState.getClientState(s.portId,s.channelId);if(!e.clientChainId||!this.chainStore.hasChain(e.clientChainId)){a=void 0;break}t=e.clientChainId,a=this.chainStore.getChain(e.clientChainId),o||(o=this.chainStore.getChain(e.clientChainId))}a&&this.setCacheIBCDenomData(r,{counterpartyChainId:null==o?void 0:o.chainId,denomTrace:c,originChainId:a.chainId})}}if(a&&c){if(4===c.denom.split(/^(cw20):(\w+)$/).length){let e=a.currencies.find(e=>c&&e.coinMinimalDenom.startsWith(c.denom));if(!e&&this.cosmwasmQueriesStore){const t=this.cosmwasmQueriesStore.get(a.chainId),s=c.denom.replace("cw20:",""),r=t.cosmwasm.querycw20ContractInfo.getQueryContract(s);r.response&&(e={type:"cw20",contractAddress:s,coinDecimals:r.response.data.decimals,coinDenom:r.response.data.symbol,coinMinimalDenom:`cw20:${s}:${r.response.data.name}`},a.addCurrencies(e))}if(e)return[{coinDecimals:e.coinDecimals,coinGeckoId:e.coinGeckoId,coinImageUrl:e.coinImageUrl,coinMinimalDenom:t.denom,coinDenom:this.coinDenomGenerator(c,a,o,e),paths:c.paths,originChainId:a.chainId,originCurrency:e},!0]}else{const e=a.findCurrency(c.denom);if(e&&!("paths"in e))return[{coinDecimals:e.coinDecimals,coinGeckoId:e.coinGeckoId,coinImageUrl:e.coinImageUrl,coinMinimalDenom:t.denom,coinDenom:this.coinDenomGenerator(c,a,o,e),paths:c.paths,originChainId:a.chainId,originCurrency:e},!0]}return[{coinDecimals:0,coinMinimalDenom:t.denom,coinDenom:this.coinDenomGenerator(c,a,o,void 0),paths:c.paths,originChainId:void 0,originCurrency:void 0},!1]}return[void 0,!1]}}r([n.observable],o.prototype,"isInitialized",void 0),r([n.observable],o.prototype,"isInitializing",void 0),r([n.observable.shallow],o.prototype,"cacheDenomTracePaths",void 0),r([n.flow],o.prototype,"restoreCache",null),r([n.flow],o.prototype,"setCacheIBCDenomData",null),t.IBCCurrencyRegsitrarInner=o;class a{constructor(e,t=864e5,s,r,n,i,o=a.defaultCoinDenomGenerator){this.kvStore=e,this.cacheDuration=t,this.chainStore=s,this.accountStore=r,this.queriesStore=n,this.cosmwasmQueriesStore=i,this.coinDenomGenerator=o,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}static defaultCoinDenomGenerator(e,t,s,r){return r?`${r.coinDenom} (${s?s.chainName:"Unknown"}/${e.paths[0].channelId})`:`${e.denom} (${s?s.chainName:"Unknown"}/${e.paths[0].channelId})`}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new o(this.kvStore,this.cacheDuration,e,this.chainStore,this.accountStore,this.queriesStore,this.cosmwasmQueriesStore,this.coinDenomGenerator))}),this.map.get(e.chainId)}}r([n.observable.shallow],a.prototype,"map",void 0),t.IBCCurrencyRegsitrar=a},1864:function(e,t){},1867:function(e,t){},1869:function(e,t){},1874:function(e,t){},1897:function(e,t){},1899:function(e,t){},1965:function(e,t){},1967:function(e,t){},1997:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeplrETCQueriesImpl=t.KeplrETCQueries=void 0;const r=s(971),n=s(972),i=s(973);t.KeplrETCQueries={use:e=>(t,s,r,n)=>({keplrETC:new o(t,s,r,n,e.ethereumURL)})};class o{constructor(e,t,s,o,a){this.queryERC20Metadata=new r.ObservableQueryERC20Metadata(t,a),this.queryEVMTokenInfo=new n.ObservableQueryEVMTokenInfo(t,s,o),this.queryTerraClassicTaxRate=new i.ObservableQueryTaxRate(t,s,o),this.queryTerraClassicTaxCaps=new i.ObservableQueryTaxCaps(t,s,o)}}t.KeplrETCQueriesImpl=o},1998:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryERC20Metadata=t.ObservableQueryERC20MetadataInner=t.ObservableQueryERC20MetadataDecimals=t.ObservableQueryERC20MetadataSymbol=t.ObservableQueryERC20MetadataName=void 0;const i=s(41),o=n(s(89)),a=s(2144),c=s(5),l=new a.Interface([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}]);class u extends i.ObservableJsonRPCQuery{constructor(e,t,s){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:s,data:l.encodeFunctionData("name")},"latest"]),c.makeObservable(this)}get name(){if(this.response)try{return l.decodeFunctionResult("name",this.response.data)[0]}catch(e){console.log(e)}}}r([c.computed],u.prototype,"name",null),t.ObservableQueryERC20MetadataName=u;class h extends i.ObservableJsonRPCQuery{constructor(e,t,s){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:s,data:l.encodeFunctionData("symbol")},"latest"]),c.makeObservable(this)}get symbol(){if(this.response)try{return l.decodeFunctionResult("symbol",this.response.data)[0]}catch(e){console.log(e)}}}r([c.computed],h.prototype,"symbol",null),t.ObservableQueryERC20MetadataSymbol=h;class d extends i.ObservableJsonRPCQuery{constructor(e,t,s){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:s,data:l.encodeFunctionData("decimals")},"latest"]),c.makeObservable(this)}get decimals(){if(this.response)try{return l.decodeFunctionResult("decimals",this.response.data)[0]}catch(e){console.log(e)}}}r([c.computed],d.prototype,"decimals",null),t.ObservableQueryERC20MetadataDecimals=d;class p{constructor(e,t,s){this._queryName=new u(e,t,s),this._querySymbol=new h(e,t,s),this._queryDecimals=new d(e,t,s)}get queryName(){return this._queryName}get querySymbol(){return this._querySymbol}get symbol(){return this._querySymbol.symbol}get name(){return this._queryName.name}get decimals(){return this._queryDecimals.decimals}}t.ObservableQueryERC20MetadataInner=p;class f extends i.HasMapStore{constructor(e,t){super(e=>new p(this.kvStore,this.ethereumURL,e)),this.kvStore=e,this.ethereumURL=t}get(e){return super.get(e)}}t.ObservableQueryERC20Metadata=f},1999:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.AxelarEVMBridgeCurrencyRegistrar=t.AxelarEVMBridgeCurrencyRegistrarInner=void 0;const n=s(5);class i{constructor(e,t,s,r,n){this.kvStore=e,this.chainInfoInner=t,this.chainStore=s,this.queriesStore=r,this.mainChain=n}registerUnknownCurrencies(e){const t=this.chainStore.getChain(this.chainInfoInner.chainId);if(!t.features||!t.features.includes("axelar-evm-bridge"))return;const s=this.queriesStore.get(this.chainInfoInner.chainId).keplrETC.queryEVMTokenInfo.getAsset(this.mainChain,e);return s.symbol&&null!=s.decimals&&s.isConfirmed?[{coinMinimalDenom:e,coinDenom:s.symbol,coinDecimals:s.decimals},!s.isFetching]:s.isFetching?[void 0,!1]:void 0}}t.AxelarEVMBridgeCurrencyRegistrarInner=i;class o{constructor(e,t,s,r){this.kvStore=e,this.chainStore=t,this.queriesStore=s,this.mainChain=r,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new i(this.kvStore,e,this.chainStore,this.queriesStore,this.mainChain))}),this.map.get(e.chainId)}}r([n.observable.shallow],o.prototype,"map",void 0),t.AxelarEVMBridgeCurrencyRegistrar=o},2e3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryEVMTokenInfo=t.ObservableQueryEVMTokenInfoInner=void 0;const r=s(41);class n extends r.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/axelar/evm/v1beta1/token_info/${r}?asset=${n}`),this._chain=r,this._denom=n}get chain(){return this._chain}get denom(){return this._denom}get tokenName(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.details.token_name}get symbol(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.details.symbol}get decimals(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.details.decimals}get isConfirmed(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.confirmed}get isExternal(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.is_external}}t.ObservableQueryEVMTokenInfoInner=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const t=e.indexOf("/"),s=e.slice(0,t),r=e.slice(t+1);return new n(this.kvStore,this.chainId,this.chainGetter,s,r)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getAsset(e,t){return this.get(`${e}/${t}`)}}t.ObservableQueryEVMTokenInfo=i},2001:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTaxRate=t.ObservableQueryTaxCaps=void 0;const n=s(41),i=s(5),o=s(20),a=s(146);class c extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/terra/treasury/v1beta1/tax_caps"),this.getTaxCaps=a.computedFn(e=>{if(!this.response||!this.response.data.tax_caps)return;const t=this.response.data.tax_caps.find(t=>t.denom===e);return t?new o.Int(t.tax_cap):void 0}),i.makeObservable(this)}}t.ObservableQueryTaxCaps=c;class l extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/terra/treasury/v1beta1/tax_rate"),i.makeObservable(this)}get taxRate(){if(this.response)return new o.RatePretty(this.response.data.tax_rate)}}r([i.computed],l.prototype,"taxRate",null),t.ObservableQueryTaxRate=l},2002:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(2003),t)},2003:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.GravityBridgeCurrencyRegsitrar=t.GravityBridgeCurrencyRegsitrarInner=void 0;const n=s(5),i=s(21);class o{constructor(e,t,s,r){this.kvStore=e,this.chainInfoInner=t,this.chainStore=s,this.queriesStore=r}registerUnknownCurrencies(e){const t=new i.DenomHelper(e);if("native"!==t.type||!t.denom.startsWith("gravity0x"))return;const s=this.queriesStore.get(this.chainInfoInner.chainId),r=t.denom.replace("gravity",""),n=s.keplrETC.queryERC20Metadata.get(r);return n.symbol&&null!=n.decimals?[{coinMinimalDenom:t.denom,coinDenom:n.symbol,coinDecimals:n.decimals},!0]:[void 0,!1]}}t.GravityBridgeCurrencyRegsitrarInner=o;class a{constructor(e,t,s){this.kvStore=e,this.chainStore=t,this.queriesStore=s,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new o(this.kvStore,e,this.chainStore,this.queriesStore))}),this.map.get(e.chainId)}}r([n.observable.shallow],a.prototype,"map",void 0),t.GravityBridgeCurrencyRegsitrar=a},2107:function(e,t){},372:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryBalances=t.ObservableQueryBalancesInner=t.ObservableQueryBalanceInner=void 0;const n=s(65),i=s(21),o=s(5),a=s(20),c=s(122),l=s(146);class u extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,r),this.denomHelper=n,o.makeObservable(this)}get currency(){const e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).findCurrency(e);if(!t)throw new Error("Unknown currency: "+e);return t}}r([o.computed],u.prototype,"currency",null),t.ObservableQueryBalanceInner=u;class h{constructor(e,t,s,r,n){this.kvStore=e,this.chainId=t,this.chainGetter=s,this.balanceRegistries=r,this.balanceMap=new Map,this.getBalanceFromCurrency=l.computedFn(e=>{const t=this.balances.find(t=>t.currency.coinMinimalDenom===e.coinMinimalDenom);return t?t.balance:new a.CoinPretty(e,new a.Int(0))}),o.makeObservable(this),this.bech32Address=n}fetch(){this.balanceMap.forEach(e=>e.fetch())}getBalanceInner(e){let t=e.coinMinimalDenom;return"type"in e&&"secret20"===e.type&&(t=e.coinMinimalDenom+"/"+e.viewingKey),this.balanceMap.has(t)||o.runInAction(()=>{let s;for(const t of this.balanceRegistries)if(s=t.getBalanceInner(this.chainId,this.chainGetter,this.bech32Address,e.coinMinimalDenom),s)break;if(!s)throw new Error("Failed to get and parse the balance for "+t);this.balanceMap.set(t,s)}),this.balanceMap.get(t)}get stakable(){const e=this.chainGetter.getChain(this.chainId);return this.getBalanceInner(e.stakeCurrency)}get balances(){const e=this.chainGetter.getChain(this.chainId),t=[];for(let s=0;s<e.currencies.length;s++){const r=e.currencies[s];t.push(this.getBalanceInner(r))}return t}get positiveBalances(){return this.balances.filter(e=>e.balance.toDec().gt(new a.Dec(0)))}get nonNativeBalances(){return this.balances.filter(e=>"native"!==new i.DenomHelper(e.currency.coinMinimalDenom).type)}get positiveNativeUnstakables(){const e=this.chainGetter.getChain(this.chainId);return this.balances.filter(t=>"native"===new i.DenomHelper(t.currency.coinMinimalDenom).type&&t.balance.toDec().gt(new a.Dec(0))&&t.currency.coinMinimalDenom!==e.stakeCurrency.coinMinimalDenom)}get unstakables(){const e=this.chainGetter.getChain(this.chainId),t=e.currencies.filter(t=>t.coinMinimalDenom!==e.stakeCurrency.coinMinimalDenom),s=[];for(let e=0;e<t.length;e++){const r=t[e];s.push(this.getBalanceInner(r))}return s}}r([o.observable.shallow],h.prototype,"balanceMap",void 0),r([o.computed],h.prototype,"stakable",null),r([o.computed],h.prototype,"balances",null),r([o.computed],h.prototype,"positiveBalances",null),r([o.computed],h.prototype,"nonNativeBalances",null),r([o.computed],h.prototype,"positiveNativeUnstakables",null),r([o.computed],h.prototype,"unstakables",null),t.ObservableQueryBalancesInner=h;class d extends c.HasMapStore{constructor(e,t,s){super(e=>new h(this.kvStore,this.chainId,this.chainGetter,this.balanceRegistries,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s,this.balanceRegistries=[]}addBalanceRegistry(e){this.balanceRegistries.push(e)}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryBalances=d},41:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1703),t),n(s(122),t),n(s(1718),t),n(s(1719),t),n(s(1781),t),n(s(1782),t),n(s(1793),t)},442:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEip712TypedDataBasedOnChainId=t.txEventsWithPreOnFulfill=void 0;const r=s(9);t.txEventsWithPreOnFulfill=function(e,t){const s=e?"function"==typeof e?void 0:e.onBroadcasted:void 0,r=e?"function"==typeof e?e:e.onFulfill:void 0,n=t?"function"==typeof t?void 0:t.onBroadcasted:void 0,i=t?"function"==typeof t?t:t.onFulfill:void 0;if(s||r||n||i)return{onBroadcasted:s||n?e=>{n&&n(e),s&&s(e)}:void 0,onFulfill:r||i?e=>{i&&i(e),r&&r(e)}:void 0}};t.getEip712TypedDataBasedOnChainId=(e,t)=>{const s=e.startsWith("injective"),{ethChainId:n}=r.EthermintChainIdHelper.parse(e),i={types:Object.assign({EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"string"},{name:"salt",type:"string"}],Tx:[{name:"account_number",type:"string"},{name:"chain_id",type:"string"},{name:"fee",type:"Fee"},{name:"memo",type:"string"},{name:"msgs",type:"Msg[]"},{name:"sequence",type:"string"}],Fee:[{name:"feePayer",type:"string"},{name:"amount",type:"Coin[]"},{name:"gas",type:"string"}],Coin:[{name:"denom",type:"string"},{name:"amount",type:"string"}],Msg:[{name:"type",type:"string"},{name:"value",type:"MsgValue"}]},t.rlpTypes),domain:{name:"Cosmos Web3",version:"1.0.0",chainId:n.toString(),verifyingContract:"cosmos",salt:"0"},primaryType:"Tx"};return s?(i.types.Tx=[...i.types.Tx,{name:"timeout_height",type:"string"}],i.domain.name="Injective Web3",i.domain.chainId="0x"+n.toString(16),i.types.Fee=[{name:"amount",type:"Coin[]"},{name:"gas",type:"string"}],i):i}},494:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1997),t),n(s(971),t),n(s(2002),t),n(s(972),t),n(s(973),t)},610:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSetBaseSuper=t.AccountSetBase=t.WalletStatus=void 0;const i=s(5),o=s(21),a=s(9);var c;!function(e){e.NotInit="NotInit",e.Loading="Loading",e.Loaded="Loaded",e.NotExist="NotExist",e.Rejected="Rejected"}(c=t.WalletStatus||(t.WalletStatus={}));class l{constructor(e,t,s,r){this.eventListener=e,this.chainGetter=t,this.chainId=s,this.opts=r,this._walletVersion=void 0,this._walletStatus=c.NotInit,this._rejectionReason=void 0,this._name="",this._bech32Address="",this._isNanoLedger=!1,this._isKeystone=!1,this._txTypeInProgress="",this.hasInited=!1,this.sendTokenFns=[],this.makeSendTokenTxFns=[],this.handleInit=()=>this.init(),i.makeObservable(this),this._pubKey=new Uint8Array,r.autoInit&&this.init()}getKeplr(){return this.opts.getKeplr()}registerSendTokenFn(e){this.sendTokenFns.push(e)}registerMakeSendTokenFn(e){this.makeSendTokenTxFns.push(e)}enable(e,t){return n(this,void 0,void 0,(function*(){const s=this.chainGetter.getChain(t);this.opts.suggestChain&&(this.opts.suggestChainFn?yield this.opts.suggestChainFn(e,s):yield this.suggestChain(e,s)),yield e.enable(t)}))}suggestChain(e,t){return n(this,void 0,void 0,(function*(){yield e.experimentalSuggestChain(t.raw)}))}*init(){if(this.walletStatus===c.NotExist)return;this.hasInited||this.eventListener.addEventListener("keplr_keystorechange",this.handleInit),this.hasInited=!0,this._walletStatus=c.Loading;const e=yield*o.toGenerator(this.getKeplr());if(e){this._walletVersion=e.version;try{yield this.enable(e,this.chainId)}catch(e){return console.log(e),this._walletStatus=c.Rejected,void(this._rejectionReason=e)}try{const t=yield*o.toGenerator(e.getKey(this.chainId));this._bech32Address=t.bech32Address,this._isNanoLedger=t.isNanoLedger,this._isKeystone=t.isKeystone,this._name=t.name,this._pubKey=t.pubKey,this._walletStatus=c.Loaded}catch(e){console.log(e),this._bech32Address="",this._isNanoLedger=!1,this._isKeystone=!1,this._name="",this._pubKey=new Uint8Array(0),this._walletStatus=c.Rejected,this._rejectionReason=e}this._walletStatus!==c.Rejected&&(this._rejectionReason=void 0)}else this._walletStatus=c.NotExist}disconnect(){this._walletStatus=c.NotInit,this.hasInited=!1,this.eventListener.removeEventListener("keplr_keystorechange",this.handleInit),this._bech32Address="",this._isNanoLedger=!1,this._isKeystone=!1,this._name="",this._pubKey=new Uint8Array(0),this._rejectionReason=void 0}get walletVersion(){return this._walletVersion}get isReadyToSendTx(){return this.walletStatus===c.Loaded&&""!==this.bech32Address}get isReadyToSendMsgs(){return this.walletStatus===c.Loaded&&""!==this.bech32Address}makeSendTokenTx(e,t,s){for(let r=0;r<this.makeSendTokenTxFns.length;r++){const n=(0,this.makeSendTokenTxFns[r])(e,t,s);if(n)return n}const r=new o.DenomHelper(t.coinMinimalDenom);throw new Error(`Unsupported type of currency (${r.type})`)}sendToken(e,t,s,r="",i={},a,c){return n(this,void 0,void 0,(function*(){for(let n=0;n<this.sendTokenFns.length;n++){const o=this.sendTokenFns[n];if(yield o(e,t,s,r,i,a,c))return}const n=new o.DenomHelper(t.coinMinimalDenom);throw new Error(`Unsupported type of currency (${n.type})`)}))}get walletStatus(){return this._walletStatus}get rejectionReason(){return this._rejectionReason}get name(){return this._name}get bech32Address(){return this._bech32Address}get pubKey(){return this._pubKey.slice()}get isNanoLedger(){return this._isNanoLedger}get isKeystone(){return this._isKeystone}get txTypeInProgress(){return this._txTypeInProgress}get isSendingMsg(){return this.txTypeInProgress}get hasEthereumHexAddress(){var e,t;return null!==(t=null===(e=this.chainGetter.getChain(this.chainId).features)||void 0===e?void 0:e.includes("eth-address-gen"))&&void 0!==t&&t}get ethereumHexAddress(){return""===this.bech32Address?"":a.Bech32Address.fromBech32(this.bech32Address,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr).toHex(!0)}}r([i.observable],l.prototype,"_walletVersion",void 0),r([i.observable],l.prototype,"_walletStatus",void 0),r([i.observable.ref],l.prototype,"_rejectionReason",void 0),r([i.observable],l.prototype,"_name",void 0),r([i.observable],l.prototype,"_bech32Address",void 0),r([i.observable],l.prototype,"_isNanoLedger",void 0),r([i.observable],l.prototype,"_isKeystone",void 0),r([i.observable],l.prototype,"_txTypeInProgress",void 0),r([i.flow],l.prototype,"init",null),r([i.action],l.prototype,"disconnect",null),r([i.computed],l.prototype,"isReadyToSendTx",null),r([i.computed],l.prototype,"isReadyToSendMsgs",null),r([i.computed],l.prototype,"ethereumHexAddress",null),t.AccountSetBase=l;class u extends l{constructor(...e){super(...e),i.makeObservable(this)}setTxTypeInProgress(e){this._txTypeInProgress=e}}r([i.action],u.prototype,"setTxTypeInProgress",null),t.AccountSetBaseSuper=u},611:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BondStatus=void 0,function(e){e.Unbonded="Unbonded",e.Unbonding="Unbonding",e.Bonded="Bonded",e.Unspecified="Unspecified"}(t.BondStatus||(t.BondStatus={}))},612:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.HasMapStore=void 0;const n=s(5);class i{constructor(e){this.creater=e,this.map=new Map,n.makeObservable(this)}get(e){if(!this.map.has(e)){const t=this.creater(e);n.runInAction(()=>{this.map.set(e,t)})}return this.map.get(e)}has(e){return this.map.has(e)}}r([n.observable.shallow],i.prototype,"map",void 0),t.HasMapStore=i},613:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableCosmwasmContractChainQuery=void 0;const n=s(65),i=s(2),o=s(5);class a extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,a.getUrlFromObj(r,n)),this.contractAddress=r,this.obj=n}onStart(){return super.onStart(),new Promise(e=>{this.disposer=o.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("wasmd_0.24+")?this.url.startsWith("/wasm/v1/")&&this.setUrl("/cosmwasm"+this.url):this.url.startsWith("/cosmwasm/")&&this.setUrl(""+this.url.replace("/cosmwasm","")),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}static getUrlFromObj(e,t){const s=JSON.stringify(t);return`/wasm/v1/contract/${e}/smart/${i.Buffer.from(s).toString("base64")}`}canFetch(){return 0!==this.contractAddress.length}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return r(this,void 0,void 0,(function*(){const{response:s,headers:r}=yield t.fetchResponse.call(this,e),n=s.data;if(!n)throw new Error("Failed to get the response from the contract");return{headers:r,response:{data:n.data,status:s.status,staled:!1,timestamp:Date.now()}}}))}}t.ObservableCosmwasmContractChainQuery=a},65:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableChainQueryMap=t.ObservableChainQuery=void 0;const i=s(122),o=n(s(89)),a=s(5),c=s(122);class l extends i.ObservableQuery{constructor(e,t,s,r){const n=s.getChain(t);super(e,o.default.create(Object.assign({baseURL:n.rest},n.restConfig)),r),this._chainId=t,this.chainGetter=s}get instance(){const e=this.chainGetter.getChain(this.chainId);return o.default.create(Object.assign({baseURL:e.rest},e.restConfig))}get chainId(){return this._chainId}}r([a.override],l.prototype,"instance",null),t.ObservableChainQuery=l;class u extends c.HasMapStore{constructor(e,t,s,r){super(r),this.kvStore=e,this.chainId=t,this.chainGetter=s}}t.ObservableChainQueryMap=u},897:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1712),t),n(s(1713),t)},899:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1722),t),n(s(901),t),n(s(900),t),n(s(1723),t)},900:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryGovParamDeposit=t.ObservableQueryGovParamVoting=t.ObservableQueryGovParamTally=void 0;const r=s(65);class n extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/gov/v1beta1/params/tallying")}}t.ObservableQueryGovParamTally=n;class i extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/gov/v1beta1/params/voting")}}t.ObservableQueryGovParamVoting=i;class o extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/gov/v1beta1/params/deposit")}}t.ObservableQueryGovParamDeposit=o},901:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryProposal=void 0;const n=s(65),i=s(902),o=s(5),a=s(20);class c extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/gov/v1beta1/proposals/${r.proposal_id}/tally`),this._raw=r,this.governance=n,o.makeObservable(this)}canFetch(){return this.proposalStatus===i.ProposalStatus.VOTING_PERIOD}get raw(){return this._raw}get proposalStatus(){switch(this.raw.status){case"PROPOSAL_STATUS_DEPOSIT_PERIOD":return i.ProposalStatus.DEPOSIT_PERIOD;case"PROPOSAL_STATUS_VOTING_PERIOD":return i.ProposalStatus.VOTING_PERIOD;case"PROPOSAL_STATUS_PASSED":return i.ProposalStatus.PASSED;case"PROPOSAL_STATUS_REJECTED":return i.ProposalStatus.REJECTED;case"PROPOSAL_STATUS_FAILED":return i.ProposalStatus.FAILED;default:return i.ProposalStatus.UNSPECIFIED}}get id(){return this.raw.proposal_id}get title(){return this.raw.content.title}get description(){return this.raw.content.description}get turnout(){const e=this.governance.getQueryPool(),t=e.bondedTokens.toDec();if(!e.response||t.equals(new a.Dec(0)))return new a.IntPretty(new a.Dec(0)).ready(!1);const s=this.tally,r=s.yes.add(s.no).add(s.abstain).add(s.noWithVeto);return new a.IntPretty(r.toDec().quoTruncate(t).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(s.yes.isReady)}get tally(){const e=this.chainGetter.getChain(this.chainId).stakeCurrency;return this.proposalStatus!==i.ProposalStatus.VOTING_PERIOD?{yes:new a.IntPretty(new a.Int(this.raw.final_tally_result.yes)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(this.raw.final_tally_result.no)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(this.raw.final_tally_result.abstain)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(this.raw.final_tally_result.no_with_veto)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}:this.response?{yes:new a.IntPretty(new a.Int(this.response.data.tally.yes)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(this.response.data.tally.no)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(this.response.data.tally.abstain)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(this.response.data.tally.no_with_veto)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}:{yes:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}}get total(){const e=this.tally,t=e.yes.add(e.no).add(e.abstain).add(e.noWithVeto),s=this.chainGetter.getChain(this.chainId).stakeCurrency;return new a.CoinPretty(s,t)}get tallyRatio(){const e=this.tally,t=e.yes.add(e.no).add(e.abstain).add(e.noWithVeto);return t.toDec().equals(new a.Dec(0))?{yes:new a.IntPretty(new a.Int(0)).ready(!1),no:new a.IntPretty(new a.Int(0)).ready(!1),abstain:new a.IntPretty(new a.Int(0)).ready(!1),noWithVeto:new a.IntPretty(new a.Int(0)).ready(!1)}:{yes:new a.IntPretty(e.yes.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.yes.isReady),no:new a.IntPretty(e.no.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.no.isReady),abstain:new a.IntPretty(e.abstain.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.abstain.isReady),noWithVeto:new a.IntPretty(e.noWithVeto.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.noWithVeto.isReady)}}}r([o.computed],c.prototype,"turnout",null),r([o.computed],c.prototype,"tally",null),r([o.computed],c.prototype,"total",null),r([o.computed],c.prototype,"tallyRatio",null),t.ObservableQueryProposal=c},902:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposalStatus=void 0,function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DEPOSIT_PERIOD=1]="DEPOSIT_PERIOD",e[e.VOTING_PERIOD=2]="VOTING_PERIOD",e[e.PASSED=3]="PASSED",e[e.REJECTED=4]="REJECTED",e[e.FAILED=5]="FAILED"}(t.ProposalStatus||(t.ProposalStatus={}))},903:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1724),t),n(s(1725),t),n(s(1726),t),n(s(1727),t),n(s(1733),t),n(s(1734),t)},904:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1735),t),n(s(1736),t),n(s(1737),t)},905:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryAccount=t.ObservableQueryAccountInner=void 0;const n=s(65),i=s(5),o=s(9);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/auth/v1beta1/accounts/"+r),this.bech32Address=r,i.makeObservable(this)}canFetch(){return this.bech32Address.length>0}get sequence(){if(!this.response)return"0";try{return o.BaseAccount.fromProtoJSON(this.response.data,this.bech32Address).getSequence().toString()}catch(e){return"0"}}get isVestingAccount(){var e;return!!this.response&&!!(null===(e=this.response.data)||void 0===e?void 0:e.account.base_vesting_account)}}r([i.computed],a.prototype,"sequence",null),r([i.computed],a.prototype,"isVestingAccount",null),t.ObservableQueryAccountInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryAccount=c},906:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1738),t),n(s(1739),t),n(s(1740),t)},907:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1741),t),n(s(1742),t)},908:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryAuthZGranter=t.ObservableQueryAuthZGranterInner=void 0;const r=s(65);class n extends r.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,`/cosmos/authz/v1beta1/grants/granter/${r}?pagination.limit=1000`),this.granter=r}canFetch(){return this.granter.length>0}}t.ObservableQueryAuthZGranterInner=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new n(this.kvStore,this.chainId,this.chainGetter,e))}getGranter(e){return this.get(e)}}t.ObservableQueryAuthZGranter=i},909:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCw20BalanceRegistry=t.ObservableQueryCw20BalanceInner=t.ObservableQueryCw20Balance=void 0;const n=s(5),i=s(21),o=s(20),a=s(372),c=s(613);class l extends c.ObservableCosmwasmContractChainQuery{constructor(e,t,s,r,n){super(e,t,s,r,{balance:{address:n}}),this.contractAddress=r,this.bech32Address=n}canFetch(){return super.canFetch()&&""!==this.bech32Address}}t.ObservableQueryCw20Balance=l;class u extends a.ObservableQueryBalanceInner{constructor(e,t,s,r,i){super(e,t,s,"",r),this.bech32Address=i,n.makeObservable(this),this.queryCw20Balance=new l(e,t,s,r.contractAddress,i)}canFetch(){return!1}*fetch(){yield this.queryCw20Balance.fetch()}get balance(){const e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).currencies.find(t=>t.coinMinimalDenom===e);if(!t)throw new Error("Unknown currency: "+e);return this.queryCw20Balance.response&&this.queryCw20Balance.response.data.balance?new o.CoinPretty(t,new o.Int(this.queryCw20Balance.response.data.balance)):new o.CoinPretty(t,new o.Int(0)).ready(!1)}}r([n.override],u.prototype,"fetch",null),r([n.computed],u.prototype,"balance",null),t.ObservableQueryCw20BalanceInner=u;t.ObservableQueryCw20BalanceRegistry=class{constructor(e){this.kvStore=e}getBalanceInner(e,t,s,r){const n=new i.DenomHelper(r);if("cw20"===n.type)return new u(this.kvStore,e,t,n,s)}}},910:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecretContractCodeHash=t.ObservableQuerySecretContractCodeHashInner=void 0;const r=s(65);class n extends r.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/compute/v1beta1/code_hash/by_contract_address/"+r),this.contractAddress=r}canFetch(){return this.contractAddress.length>0}}t.ObservableQuerySecretContractCodeHashInner=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new n(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryContract(e){return this.get(e)}}t.ObservableQuerySecretContractCodeHash=i},911:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecret20BalanceRegistry=t.ObservableQuerySecret20BalanceInner=t.ObservableQuerySecret20Balance=void 0;const i=s(5),o=s(21),a=s(20),c=s(372),l=s(912),u=s(913);class h extends l.ObservableSecretContractChainQuery{constructor(e,t,s,r,n,o,a,c){super(e,t,s,r,n,{balance:{address:o,key:a}},c),this.apiGetter=r,this.contractAddress=n,this.bech32Address=o,this.viewingKey=a,this.querySecretContractCodeHash=c,i.makeObservable(this),this.viewingKey||this.setError({status:0,statusText:"Viewing key is empty",message:"Viewing key is empty"})}canFetch(){return super.canFetch()&&""!==this.bech32Address&&""!==this.viewingKey}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});var s;return n(this,void 0,void 0,(function*(){const{response:r,headers:n}=yield t.fetchResponse.call(this,e);if(r.data.viewing_key_error)throw new u.WrongViewingKeyError(null===(s=r.data.viewing_key_error)||void 0===s?void 0:s.msg);return{headers:n,response:r}}))}}t.ObservableQuerySecret20Balance=h;class d extends c.ObservableQueryBalanceInner{constructor(e,t,s,r,n,o,a){super(e,t,s,"",n),this.apiGetter=r,this.bech32Address=o,this.querySecretContractCodeHash=a,i.makeObservable(this);const c=(()=>{const e=this.currency;return"type"in e&&"secret20"===e.type?e.viewingKey:""})();this.querySecret20Balance=new h(e,t,s,this.apiGetter,n.contractAddress,o,c,this.querySecretContractCodeHash)}canFetch(){return!1}*fetch(){yield this.querySecret20Balance.fetch()}get isFetching(){return this.querySecretContractCodeHash.getQueryContract(this.denomHelper.contractAddress).isFetching||this.querySecret20Balance.isFetching}get error(){return this.querySecretContractCodeHash.getQueryContract(this.denomHelper.contractAddress).error||this.querySecret20Balance.error}get balance(){const e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).findCurrency(e);if(!t)throw new Error("Unknown currency: "+e);return this.querySecret20Balance.response&&this.querySecret20Balance.response.data.balance?new a.CoinPretty(t,new a.Int(this.querySecret20Balance.response.data.balance.amount)):new a.CoinPretty(t,new a.Int(0)).ready(!1)}}r([i.override],d.prototype,"fetch",null),r([i.computed],d.prototype,"balance",null),t.ObservableQuerySecret20BalanceInner=d;t.ObservableQuerySecret20BalanceRegistry=class{constructor(e,t,s){this.kvStore=e,this.apiGetter=t,this.querySecretContractCodeHash=s}getBalanceInner(e,t,s,r){const n=new o.DenomHelper(r);if("secret20"===n.type)return new d(this.kvStore,e,t,this.apiGetter,n,s,this.querySecretContractCodeHash)}}},912:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableSecretContractChainQuery=void 0;const i=s(65),o=s(21),a=s(5),c=s(2);class l extends i.ObservableChainQuery{constructor(e,t,s,r,n,i,o){super(e,t,s,""),this.apiGetter=r,this.contractAddress=n,this.obj=i,this.querySecretContractCodeHash=o,this.keplr=void 0,this._isIniting=!1,a.makeObservable(this)}onStart(){const e=Object.create(null,{onStart:{get:()=>super.onStart}});return n(this,void 0,void 0,(function*(){if(e.onStart.call(this),this.keplr||(yield this.initKeplr()),!this.keplr)throw new Error("Failed to get keplr");yield this.querySecretContractCodeHash.getQueryContract(this.contractAddress).waitResponse(),yield this.init()}))}get isFetching(){return this.querySecretContractCodeHash.getQueryContract(this.contractAddress).isFetching||null==this.keplr||this._isIniting||super.isFetching}canFetch(){return!!this.querySecretContractCodeHash.getQueryContract(this.contractAddress).response&&(0!==this.contractAddress.length&&null!=this.nonce)}*initKeplr(){this.keplr=yield*o.toGenerator(this.apiGetter())}*init(){if(this._isIniting=!0,this.keplr&&this.contractCodeHash){const e=this.keplr.getEnigmaUtils(this.chainId),t=yield*o.toGenerator(e.encrypt(this.contractCodeHash,this.obj));this.nonce=t.slice(0,32);const s=c.Buffer.from(t).toString("base64");this.setUrl(this.getSecretWasmUrl(this.contractAddress,s))}this._isIniting=!1}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});var s,r;return n(this,void 0,void 0,(function*(){let n,i;try{const s=yield t.fetchResponse.call(this,e);n=s.response,i=s.headers}catch(e){if(null===(r=null===(s=e.response)||void 0===s?void 0:s.data)||void 0===r?void 0:r.error){const t=e.response.data.error,s=/rpc error: code = (.+) = encrypted: (.+): (.+)/g.exec(t);if(null!=s&&4===s.length){const e=s[2],t=c.Buffer.from(e,"base64");if(this.keplr&&this.nonce){const e=yield this.keplr.getEnigmaUtils(this.chainId).decrypt(t,this.nonce),s=c.Buffer.from(e).toString();throw new Error(s)}}}throw e}const o=n.data;if(!this.keplr)throw new Error("Keplr API not initialized");if(!this.nonce)throw new Error("Nonce is unknown");if(!o)throw new Error("Failed to get the response from the contract");const a=yield this.keplr.getEnigmaUtils(this.chainId).decrypt(c.Buffer.from(o.data,"base64"),this.nonce),l=c.Buffer.from(c.Buffer.from(a).toString(),"base64").toString();return{headers:i,response:{data:JSON.parse(l),status:n.status,staled:!1,timestamp:Date.now()}}}))}getSecretWasmUrl(e,t){return`/compute/v1beta1/query/${e}?${new URLSearchParams({query:t}).toString()}`}getCacheKey(){return`${this.instance.name}-${this.instance.defaults.baseURL}${this.instance.getUri({url:this.getSecretWasmUrl(this.contractAddress,JSON.stringify(this.obj))})}`}get contractCodeHash(){const e=this.querySecretContractCodeHash.getQueryContract(this.contractAddress);if(e.response)return e.response.data.code_hash}}r([a.observable.ref],l.prototype,"keplr",void 0),r([a.observable],l.prototype,"_isIniting",void 0),r([a.flow],l.prototype,"initKeplr",null),r([a.flow],l.prototype,"init",null),r([a.computed],l.prototype,"contractCodeHash",null),t.ObservableSecretContractChainQuery=l},913:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrongViewingKeyError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.WrongViewingKeyError=r},914:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesFeeTokens=void 0;const n=s(65),i=s(5),o=s(146);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/txfees/v1beta1/fee_tokens"),this.isTxFeeToken=o.computedFn(e=>!!this.response&&!0===this.feeCurrenciesDenomMap.get(e)),i.makeObservable(this)}setResponse(e){super.setResponse(e);const t=this.chainGetter.getChain(this.chainId),s=e.data.fee_tokens.map(e=>e.denom);t.addUnknownCurrencies(...s)}get feeCurrenciesDenomMap(){const e=new Map;if(!this.response)return e;for(const t of this.response.data.fee_tokens)e.set(t.denom,!0);return e}get feeCurrencies(){if(!this.response)return[];const e=[],t=this.chainGetter.getChain(this.chainId);for(const s of this.response.data.fee_tokens){const r=t.findCurrency(s.denom);r&&e.push(r)}return e}}r([i.computed],a.prototype,"feeCurrenciesDenomMap",null),r([i.computed],a.prototype,"feeCurrencies",null),t.ObservableQueryTxFeesFeeTokens=a},915:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesSpotPriceByDenom=t.ObservableQueryTxFeesSpotPriceByDenomInner=void 0;const n=s(65),i=s(5),o=s(20);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"osmosis/txfees/v1beta1/spot_price_by_denom?denom="+r),i.makeObservable(this)}get poolId(){return this.response?this.response.data.poolID:""}get spotPriceDec(){return this.response?new o.Dec(this.response.data.spot_price):new o.Dec(0)}}r([i.computed],a.prototype,"spotPriceDec",null),t.ObservableQueryTxFeesSpotPriceByDenomInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryDenom(e){return this.get(e)}}t.ObservableQueryTxFeesSpotPriceByDenom=c},916:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesBaseDenom=void 0;const r=s(65),n=s(5);class i extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/txfees/v1beta1/base_denom"),n.makeObservable(this)}get baseDenom(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.base_denom)&&void 0!==t?t:""}}t.ObservableQueryTxFeesBaseDenom=i},917:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryICNSNames=t.ObservableQueryICNSNamesInner=void 0;const n=s(613),i=s(5),o=s(65);class a extends n.ObservableCosmwasmContractChainQuery{constructor(e,t,s,r,n){super(e,t,s,r,{icns_names:{address:n}}),this.contractAddress=r,this.address=n}get primaryName(){return this.response&&this.response.data?this.response.data.primary_name:""}get names(){return this.response&&this.response.data?this.response.data.names:[]}}r([i.computed],a.prototype,"primaryName",null),r([i.computed],a.prototype,"names",null),t.ObservableQueryICNSNamesInner=a;class c extends o.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const t=e.split("/");return new a(this.kvStore,this.chainId,this.chainGetter,t[0],t[1])}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryContract(e,t){return this.get(`${e}/${t}`)}}t.ObservableQueryICNSNames=c},971:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1998),t)},972:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1999),t),n(s(2e3),t)},973:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(2001),t)}}]);